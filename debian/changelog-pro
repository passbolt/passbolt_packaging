passbolt-pro-server (5.3.2-1) buster; urgency=medium
  * PB-43467 As an administrator, I can lock the SSO configuration to mitigate potential scanning through the endpoints
  * PB-43910 As an administrator installing passbolt on postgres, the default postgres schema should be public
  * PB-43956 Fix OpenPGP_PHP behavior discrepancy for keys with multiple self-signed key signatures with different expiry times
  * PB-43746 A metadata key should be shareable with new users even if the administrator who created the key is soft-deleted
  * PB-37106 As an administrator running healthCheck, I should see the right path to the logs if the directory permissions are not correct
  * PB-43966 Selenium specific endpoints should be enabled for local testing with ddev
  * PB-43480 Writes stack traces in logs on metadata key validation 500 errors

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 17 Jul 2025 09:07:35 +0000

passbolt-pro-server (5.3.2-test.1-1) buster; urgency=medium
  * PB-43467 Lock configuration of SSO to mitigate potential scanning through the endpoints
  * PB-43910 As an administrator installing passbolt on postgres, the default postgres schema should be public
  * PB-43956 Fix OpenPGP_PHP behavior discrepancy for keys with multiple self-signed key signatures with different expiry times
  * PB-43746 A metadata key should be shareable with new users even if the administrator who created the key is soft-deleted
  * PB-37106 As an administrator running healthCheck, I should see the right path to the logs if the directory permissions are not correct
  * PB-43966 Selenium specific endpoints should be enabled for local testing with ddev
  * PB-43480 Writes stack traces in logs on metadata key validation 500 errors

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 17 Jul 2025 09:07:35 +0000

passbolt-pro-server (5.3.1-1) buster; urgency=medium
  * PB-43748 Users are unable to save a new standalone custom field resource

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 09 Jul 2025 14:00:32 +0000

passbolt-pro-server (5.3.0-1) buster; urgency=medium
  * PB-41664 Enables OpenID Connect and ADFS SSO by default
  * PB-43066 As a developer I can setup my development environment using ddev
  * PB-43188 Adds Custom Fields Standalone resource type migration
  * PB-43383 Improves the performance of most paginated endpoints
  * PB-43659 Improve error handling when metadata key could not be saved due to unexpected reason
  * PB-43375 As a user performing an account recovery, Azure SSO should not return a 500 error when secret keys are expired
  * PB-43382 As an administrator I should not get a connection error when running the healthcheck when the database is empty
  * PB-43007 Fixes emails not sent after v5 upgrade if SMTP credentials are stored in environment variables (GITHUB #545)
  * PB-43122 As an administrator retrieving users metadata key, I should not trigger a validation type issue on the missing metadata_keys_id in certain conditions
  * PB-43137 Fixes a potential settings conflict in user key policy where key of type rsa should not have a preferred curve
  * PB-42784 As an administrator I should not get a health check error when all email notifications are enabled
  * PB-43259 Fixes a record not found error on table `organization_settings` in healthcheck after v5 upgrade (GITHUB #548)
  * PB-42072 As a user sharing permissions, I should not get a 500 response if the payload is wrongly formatted
  * PB-42071 Fixes 500 errors on malformed UTF-8 character-based URLs when using the JsonTraceFormatter class
  * PB-43659 Improves the error catching on creation of organization metadata key
  * PB-42177 Upgrades CakePHP version to 5.2.5
  * PB-43010 Replaces the use of static fixtures with fixture factories in multiple test cases
  * PB-41724 Map _cake_core_ cache config with _cake_translations_ in the bootstrap.php file
  * PB-42380 Adds the missing v5 resource types on data insertion in the passbolt-test-data vendor
  * PB-43658 Use FQN to load all vendor plugin

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 09 Jul 2025 09:42:12 +0000

passbolt-pro-server (5.3.0-rc.1-1) buster; urgency=medium
  * PB-41664 Enables OpenID Connect and ADFS SSO by default
  * PB-43066 As a developer I can setup my development environment using dev
  * PB-43188 Add Custom Fields Standalone resource type migration
  * PB-43383 Improves the performance of most paginated endpoints
  * PB-43659 Improve error handling when metadata key could not be saved due to unexpected reason
  * PB-43375 As a user performing an account recovery, Azure SSO should not return a 500 error when secret keys are expired
  * PB-43382 As an administrator I should not get a connection error when running the healthcheck when the database is empty
  * PB-43007 Fixes emails not sent after v5 upgrade if SMTP credentials are stored in environment variables (GITHUB #545)
  * PB-43122 As an administrator retrieving users metadata key, I should not trigger a validation type issue on the missing metadata_keys_id in certain conditions
  * PB-43137 Fixes a potential settings conflict in user key policy where key of type rsa should not have a preferred curve
  * PB-42784 As an administrator I should not get a health check error when all email notifications are enabled
  * PB-43259 Fixes a record not found error on table `organization_settings` in healthcheck after v5 upgrade (GITHUB #548)
  * PB-42072 As a user sharing permissions, I should not get a 500 response if the payload is wrongly formatted
  * PB-42071 Fixes 500 errors on malformed UTF-8 character-based URLs when using the JsonTraceFormatter class
  * PB-42177 Upgrades CakePHP version to 5.2.5
  * PB-43010 Replaces the use of static fixtures with fixture factories in multiple test cases
  * PB-41724 Map _cake_core_ cache config with _cake_translations_ in the bootstrap.php file
  * PB-42380 Adds the missing v5 resource types on data insertion in the passbolt-test-data vendor

 -- Passbolt SA package signing key <contact@passbolt.com>  Fri, 04 Jul 2025 16:25:06 +0000

passbolt-pro-server (5.2.0-1) buster; urgency=medium
  * PB-42861 As a user I can use passbolt in Slovenian language
  * PB-42986 As a user I can use passbolt in Ukrainian language
  * PB-42878 Add User GPG key policies (ECC by default) support behind a feature flag
  * PB-41966 As a resource owner I should receive a notification on the day that my resources expire
  * PB-42706 Alias POST /metadata/keys/privates.json endpoint to POST /metadata/keys/private.json
  * PB-42800 The check metadata key presence in the healthcheck should not fail if no metadata key is required
  * PB-42701 Fixes the contain of missing metadata key on view user endpoint
  * PB-42592 Add missing attribute in ldap default configuration file
  * PB-42574 Fix LDAP Typed property error
  * PB-42687 Security alert emails should display user IP and user agent only if configured
  * PB-42379 PBL-13-004 - Fixes HTML injections in email notifications
  * PB-42935 Upgrade API babel dev dependency
  * PB-42893 Upgrade API lock-link-api dev dependency
  * PB-42923 refactor code to remove warning in selenium execution context

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 11 Jun 2025 10:22:19 +0000

passbolt-pro-server (5.2.0-rc.1-1) buster; urgency=medium
  * PB-42861 As a user I can use passbolt in Slovenian language
  * PB-42986 As a user I can use passbolt in Ukrainian language
  * PB-42878 Add User GPG key policies (ECC by default) support behind a feature flag
  * PB-41966 As a resource owner I should receive a notification on the day that my resources expire
  * PB-42706 Alias POST /metadata/keys/privates.json endpoint to POST /metadata/keys/private.json
  * PB-42800 The check metadata key presence in the healthcheck should not fail if no metadata key is required
  * PB-42701 Fixes the contain of missing metadata key on view user endpoint
  * PB-42592 Add missing attribute in ldap default configuration file
  * PB-42574 Fix LDAP Typed property error
  * PB-42687 Security alert emails should display user IP and user agent only if configured
  * PB-42378 PBL-13-001 - Fixes open redirect on MFA step in login
  * PB-42379 PBL-13-004 - Fixes HTML injections in email notifications
  * PB-43115 Fix XSS in email footer where the full base URL was not escaped or sanitized
  * PB-42935 Upgrade API babel dev dependency
  * PB-42893 Upgrade API lock-link-api dev dependency
  * PB-42923 refactor code to remove warning in selenium execution context

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 05 Jun 2025 08:15:21 +0000

passbolt-pro-server (5.1.1-1) buster; urgency=medium
  * PB-42594 Fix directory_sync ignore-create CLI command shared from help message is not working
  * PB-42691 Make created & modified dates from AD/LDAP server optional
  * PB-42592 Fix missing attribute in ldap default configuration file
  * PB-42689 Fix type errors in directory_sync users & groups commands
  * PB-42701 Fix the contain of missing metadata key on view user endpoint
  * PB-42687 Security alert emails should display user IP and user agent only if configured

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 22 May 2025 10:41:23 +0000

passbolt-pro-server (5.1.0-1) buster; urgency=medium
  * PB-40712 Enable password expiry by default for new instances
  * PB-37364 As an administrator I can get and rotate tags with an expired metadata key
  * PB-37702 As an administrator I can upgrade tags from v4 format to v5
  * PB-41629 As a client I should know if the metadata plugin is set as in beta
  * PB-40275 Add support for email claim alias for OAUTH2 provider via server config
  * PB-41628 Enable the metadata plugin by default
  * PB-41820 INC-262 - the new pro subscription keys should not fail and trigger 500s
  * PB-41736 Adjust the datacheck command to support v5 resources
  * PB-40274 Fix azure SSO asking for password everytime even after setting prompt to false
  * PB-41769 Fix action_logs_purge command only purging 100 records
  * PB-42108 Fix the APP_BASE variable ignored when generated URLs with CakePHP
  * PB-42378 PBL-13-001 - Sanitize open redirect on MFA step in login
  * PB-41840 Return creator along metadata keys on GET /metadata/keys.json
  * PB-42117 Populate metadata key ID for personal resources if null in payload
  * PB-40626 Update passbolt-test-data to improve PHP 8.4 compatibility
  * PB-40365 Updates the test pipelines to cover PHP 8.4
  * PB-40630 Bump bacon/bacon-qr-code to v3.0
  * PB-40627 Bump league/flysystem package to v3.29
  * PB-40625 Bump Spomky-Labs/otphp package to v11.3
  * PB-40641 Replace vimeo/psalm to psalm/phar

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 15 May 2025 14:30:33 +0000

passbolt-pro-server (5.1.0-rc.1-1) buster; urgency=medium
  * PB-40712 Enable password expiry by default for new instances
  * PB-37364 As an administrator I can get and rotate tags with an expired metadata key
  * PB-37702 As an administrator I can upgrade tags from v4 format to v5
  * PB-41629 As a client I should know if the metadata plugin is set as in beta
  * PB-40275 Add support for email claim alias for OAUTH2 provider via server config
  * PB-41628 Enable the metadata plugin by default
  * PB-41820 INC-262 - the new pro subscription keys should not fail and trigger 500s
  * PB-41736 Adjust the datacheck command to support v5 resources
  * PB-40274 Fix azure SSO asking for password everytime even after setting prompt to false
  * PB-41769 Fix action_logs_purge command only purging 100 records
  * PB-42108 Fix the APP_BASE variable ignored when generated URLs with CakePHP
  * PB-41840 Return creator along metadata keys on GET /metadata/keys.json
  * PB-42117 Populate metadata key ID for personal resources if null in payload
  * PB-40626 Update passbolt-test-data to improve PHP 8.4 compatibility
  * PB-40365 Updates the test pipelines to cover PHP 8.4
  * PB-40630 Bump bacon/bacon-qr-code to v3.0
  * PB-40627 Bump league/flysystem package to v3.29
  * PB-40625 Bump Spomky-Labs/otphp package to v11.3
  * PB-40641 Replace vimeo/psalm to psalm/phar

 -- Passbolt SA package signing key <contact@passbolt.com>  Mon, 12 May 2025 08:32:29 +0000

passbolt-pro-server (5.0.0-1) buster; urgency=medium
  * PB-39434 As an administrator I can log user actions on file in an SIEM compatible format
  * PB-39627 Enforce PHP 8.2 as minimum passbolt API requirement
  * PB-40155 Add Passbolt API support of PHP 8.4
  * PB-40724 As a user I should not share in DB personal tags of other users with identical slug
  * PB-40247 Add API status documentation link to the health check command
  * PB-39706 When creating a user from CLI the metadata_private_keys should have their fields created_by and modified_by set
  * PB-41356 As an administrator I can delete a resource type associated to deleted resources
  * PB-41374 Fix unlimited session lifetime introduced in CakePHP 5
  * PB-41379 Updates the minimum next version to 8.2 to remove false warning from installation
  * PB-28246 Refactor the whole application to upgrade CakePHP to version 5
  * PB-39434 Add code coverage to ActionLogsUsernameQueryStrategy
  * PB-39660 Mock MfaFormInterface to avoid tests failing occasionally
  * PB-39630 Fix ResourcesIndexControllerPaginationTest recurrently failing test

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 10 Apr 2025 10:16:02 +0000

passbolt-pro-server (5.0.0-rc.2-1) buster; urgency=medium
  * PB-41374 Fix unlimited session lifetime introduced in CakePHP 5
  * PB-41379 Updates the minimum next version to 8.2 to remove false warning from installation
  * PB-41382 As a user I should not share personal tags of identical slug with other users

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 08 Apr 2025 16:48:27 +0000

passbolt-pro-server (5.0.0-rc.1-1) buster; urgency=medium
  * PB-39434 As an administrator I can log user actions on file in an SIEM compatible format
  * PB-39627 Enforce PHP 8.2 as minimum passbolt API requirement
  * PB-40155 Add Passbolt API support of PHP 8.4
  * PB-40724 As a user I should not share in DB personal tags of other users with identical slug
  * PB-40247 Add API status documentation link to the health check command
  * PB-39706 When creating a user from CLI the metadata_private_keys should have their fields created_by and modified_by set
  * PB-41356 As an administrator I can delete a resource type associated to deleted resources
  * PB-28246 Refactor the whole application to upgrade CakePHP to version 5
  * PB-39434 Add code coverage to ActionLogsUsernameQueryStrategy
  * PB-39660 Mock MfaFormInterface to avoid tests failing occasionally
  * PB-39630 Fix ResourcesIndexControllerPaginationTest recurrently failing test

 -- Passbolt SA package signing key <contact@passbolt.com>  Mon, 07 Apr 2025 09:19:14 +0000

passbolt-pro-server (4.12.1-1) buster; urgency=medium
  * PB-39959 Fixes an issue when fetching the locale of suspended users when queried in a sub-query

 -- Passbolt SA package signing key <contact@passbolt.com>  Mon, 17 Mar 2025 15:15:46 +0000

passbolt-pro-server (4.12.0-1) buster; urgency=medium
  * PB-39395 As an administrator I can contain permissions when upgrading folders to v5 format
  * PB-39394 As an administrator I can contain permissions when upgrading resources to v5 format
  * PB-38850 As an administrator I cannot rotate entities while two metadata keys are active
  * PB-37699 As an administrator I can upgrade folders to v5 format
  * PB-37363 As an administrator I can rotate metadata keys encrypting folders metadata
  * PB-36582 As an administrator I cannot reuse a previously deleted metadata key
  * PB-39512 Fix during metadata upgrade process, the resource_type_id field is now updated in the database
  * PB-39399 Adds missing fields to metadata private keys in index response
  * PB-39393 Fix limit value is null in pagination header response for rotate & upgrade endpoints
  * PB-38770 Fix email subject for delete resource email when resource is v5
  * PB-38791 Fix 500 error on the duo MFA setup & verify page when duo service is unavailable
  * PB-38771 Fix unable to expire the metadata key due to expired datetime format
  * PB-39629 Set next minimum PHP version to 8.2 as passbolt v5 will not support lower PHP versions

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 12 Mar 2025 13:03:41 +0000

passbolt-pro-server (4.12.0-rc.1-1) buster; urgency=medium
  * PB-39395 As an administrator I can contain permissions when upgrading folders to v5 format
  * PB-39394 As an administrator I can contain permissions when upgrading resources to v5 format
  * PB-38850 As an administrator I cannot rotate entities while two metadata keys are active
  * PB-37699 As an administrator I can upgrade folders to v5 format
  * PB-37363 As an administrator I can rotate metadata keys encrypting folders metadata
  * PB-36582 As an administrator I cannot reuse a previously deleted metadata key
  * PB-39512 Fix during metadata upgrade process, the resource_type_id field is now updated in the database
  * PB-39399 Adds missing fields to metadata private keys in index response
  * PB-39393 Fix limit value is null in pagination header response for rotate & upgrade endpoints
  * PB-38770 Fix email subject for delete resource email when resource is v
  * PB-38791 Fix 500 error on the duo MFA setup & verify page when duo service is unavailable
  * PB-38771 Fix unable to expire the metadata key due to expired datetime format
  * PB-39629 Set next minimum PHP version to 8.2 as passbolt v5 will not support lower PHP versions

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 06 Mar 2025 11:01:13 +0000

passbolt-pro-server (4.11.1-1) buster; urgency=medium
  * PB-39045 Fix empty fullBaseUrl leading to Host header injection attack

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 18 Feb 2025 06:33:38 +0000

passbolt-pro-server (4.11.0-1) buster; urgency=medium
  * PB-35761 As an administrator I receive an email if zero_knowledge_key_share is set to true and a new user completed the setup
  * PB-36558 As an administrator I can mark metadata_keys as expired
  * PB-35986 As an administrator I can share missing metadata private keys for users that needs them
  * PB-35925 As an administrator I can see if users are missing access to metadata keys
  * PB-37069 As an administration I can run a command to share metadata private keys with users that need them
  * PB-37068 As a user I can see if I am missing metadata keys
  * PB-36600 As an administrator I should be notified when an administrator expires a metadata key
  * PB-35418 As an administrator I should receive an email notification when a metadata key is deleted
  * PB-37361 As an administrator I can rotate metadata keys encrypting resources metadata
  * PB-37697 As an administrator I can upgrade resources to v5 format
  * PB-35927 As an administrator I can define an allow_v4_v5_upgrade metadata type settings
  * PB-35923 As an administrator I cannot add a new metadata key if there is only 2 that are active
  * PB-34463 As an administrator I cannot reuse metadata keys as the account recovery key
  * PB-35929 Update edit resource to support allow_v4_v5_upgrade settings
  * PB-35932 Update edit folders to support allow_v4_v5_upgrade settings
  * PB-35933 Update edit tags to support allow_v4_v5_upgrade settings
  * PB-36947 Fix passbolt.plugins.sso.debugEnabled config not overwritten by passbolt.php
  * PB-37719 Fix resource types index controller should not return deleted resource types per default
  * PB-36925 Cast configure usage to avoid fatal type error on missing fullBaseUrl
  * PB-36576 Fix as a user I cannot create or edit a tag with an expired or deleted metadata key
  * PB-37097 Fix prevent to use v5 resource_type_ids if v5 flag is off
  * PB-36930 Fix some email sentences not translated and markers errors in translation
  * PB-37096 Fix healthcheck relying on symfony/process should fail gracefully in case of process run exception (GITHUB #531)
  * PB-36989 Fix namespace composer warnings
  * PB-37343 Fixes postgres dump by adding PGPASSWORD env since .pgpass is not generated on the passbolt installation
  * PB-37664 As an administrator running the healthCheck, the inactive users should not be calculated for the license check
  * PB-38026 As an administrator running the cleanup command I should not see issues on soft deleted groups
  * PB-38261 Fix always failing IsNotAccountRecoveryFingerprintRule for metadata keys
  * PB-38262 Fix always failing metadata key creation when zero-knowledge is disabled, and no metadata keys are present
  * PB-37974 Upgrade CakePHP to v4.5.9
  * PB-38166 Passbolt app router should not fall back on Host header if full-base url is not set
  * PB-35785 Upgrade psalm/phpstan to latest version as applicable
  * PB-35119 Fix tests failing when full base url is not-https
  * PB-37000 Fix bug of wrong relation for Rbacs to Log.Actions.
  * PB-37072 Fix LatestVersionApplicationHealthcheck test failing due to github not reachable
  * PB-37071 Fix PHPUnit 10 deprecations
  * PB-36237 Fix frequently failing TOTP setup/verify tests
  * PB-38184 Fix synk vulnerability for nesbot/carbon PHP Remote File Inclusion

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 30 Jan 2025 13:09:13 +0000

passbolt-pro-server (4.10.1-1) buster; urgency=medium
  * PB-37010 Fix v5 resource types should not be returned if v5 flag is disabled
  * PB-37011 Fix session keys creation modified date validation to match ISO 8601 format

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 26 Nov 2024 09:45:51 +0000

passbolt-pro-server (4.10.0-1) buster; urgency=medium
  * PB-34451 Update tags table with metadata fields
  * PB-35416 Update tags endpoints to support v5 format
  * PB-35697 Add ability to reuse existing shared tag by passing uuid
  * PB-35760 Tags endpoints to throw an error if allow_usage_of_personal_keys is set to false and personal key is used
  * PB-35746 As an administrator I can run a command to migrate the tags to v5 format
  * PB-35934 Update edit tags to support allow_v5_v4_downgrade settings
  * PB-21404 As an admin I'd like to purge directory_reports
  * PB-34458 Add v5 config flag PASSBOLT_V5_ENABLED
  * PB-34459 Add metadata plugin
  * PB-34450 Update resources table with metadata fields
  * PB-34455 Update comments table with data field
  * PB-34452 Update folders table with metadata fields
  * PB-34454 Create metadata_private_keys table
  * PB-34453 Create metadata_session_keys table
  * PB-34456 Create metadata_keys table
  * PB-34446 Add new resource_types entries for v5 resource types
  * PB-34448 Update resource_types table to add deleted field
  * PB-34472 Add GET/POST /metadata/settings.json endpoints
  * PB-34465 Add MetadataPrivateKey entity
  * PB-34466 Add MetadataPrivateKeysTable table
  * PB-34460 Add MetadataKey entity
  * PB-34462 Add MetadataKeysTable table
  * PB-34461 As a logged-in user the settings.json provides information on the metadata plugin
  * PB-34464 Cache key info in public key validation service for a single request
  * PB-34467 Add POST /metadata/keys.json endpoint
  * PB-34471 Add GET /metadata/keys endpoint
  * PB-35259 Update support for created_by and modified_by for metadata keys
  * PB-35163 Update DELETE /groups/<uuid>.json to support v5 resource format
  * PB-35162 Update DELETE /users/<uuid>.json endpoint to clean up metadata private & session keys
  * PB-35119 Add setup complete controller test (v5 key sharing)
  * PB-35119 Start integration of user setup complete with v5 requirements
  * PB-35122 Add support for v5 create, update resource entities
  * PB-35152 Add DELETE /metadata/session-keys/<uuid>.json endpoint
  * PB-35151 Add POST /metadata/session-keys.json endpoint
  * PB-35150 Add GET /metadata/session-keys.json endpoint
  * PB-34611 Add DELETE/PUT /resource-types/<uuid>.json endpoint
  * PB-35365 Update POST /share/folders/<uuid>.json to support v5 logic
  * PB-35363 Update GET /folders/<uuid>.json to support v5 format
  * PB-35363 Update GET /folders.json to support v5 format
  * PB-35921 Add API endpoint PUT /metadata/session-keys/<uuid>.json
  * PB-35368 As a developer I can run a command to create metadata private key & share it with all users
  * PB-35362 Update PUT /folders/<uuid>.json to support v5 format
  * PB-35361 Update POST /folders.json to support v5 format
  * PB-35120 Add healthcheck to try to decrypt the server metadata private key entry for the shared key
  * PB-35165 Update POST /share/resources/<uuid>.json to support v5 logic
  * PB-35166 Update email notification template to not include metadata (name, uri, etc.)
  * PB-35166 Update POST /share/simulate/resources/<uuid>.json to support v5 logic
  * PB-35157 Email changes for resources changes for V5
  * PB-35157 Add validation for metadata fields
  * PB-35160 Update GET /resources.json endpoint to support v5 format
  * PB-35275 Add edit and create individual metadata private key endpoints
  * PB-35171 Create a Service and CLI task to migrate v4 to v5 resources
  * PB-35272 Add server settings to prevent edition of metadata settings and key
  * PB-35260 Add signature verification for metadata private key sharing service
  * PB-35277 As an administrator I must receive an email notification when a metadata key is added
  * PB-35276 As an administrator I must receive an email notification when the metadata settings are updated
  * PB-35751 As an administrators I can update the metadata settings using command line
  * PB-35748 As an administrator I can run a command to migrate all the items to v5 format
  * PB-35747 As an administrator I can run a command to migrate the folders to v5 format
  * PB-35756 Update resource create endpoint to throw an error if allow_usage_of_personal_keys is set to false and personal key is used
  * PB-35758 Update folders create/update endpoints to throw an error if allow_usage_of_personal_keys is set to false and personal key is used
  * PB-35928 Add allow_v5_v4_downgrade to metadata types settings
  * PB-35945 Add static method to cache and reuse MetadataTypesSettingsGetService results
  * PB-35946 Add static method to cache and reuse MetadataKeysSettingsGetService results
  * PB-35930 Update edit resource to support allow_v5_v4_downgrade settings
  * PB-35931 Update edit folders to support allow_v5_v4_downgrade settings
  * PB-35937 Add allow_v5_v4_downgrade settings to passbolt update_metadata_types_settings command
  * PB-35084 Add the distribution/gpg information in the health-check
  * PB-35866 Add OperatingSystemHealthcheck for 32 vs 64 bit
  * PB-36228 ResourceCreateController should populate empty metadata_key_id if key type is user_key
  * PB-36280 Add created_by and modified_by to metadata keys index service
  * PB-34080 As an admin running the passbolt cleanup, I should delete duplicate resources_tags entries
  * PB-36516 Add populatedMetadataUserKeyId request data massaging to folder create and update
  * PB-36515 Add populatedMetadataUserKeyId request data massaging to resource edit
  * PB-36558 Add baseline support for metadata key expiry
  * PB-35085 Add TimeSyncHealthcheck for system clock sync status
  * PB-36574 As a user I can delete a metadata key that is expired and not in use
  * PB-34609 Adds is-deleted filter and resources_count contain to ResourceTypesIndexController.php
  * PB-35882 Bump cakephp/twig-view to 1.3.1 to get rid of twig security vulnerability warning
  * PB-36609 Bump twig/twig composer package to v3.11.2
  * PB-36609 Bump symfony/process composer package to v5.4.46
  * PB-35742 Fix metadata type settings should be used in tags created/edit endpoints
  * PB-35957 Fix OIDC SSO aud attribute could be an array
  * PB-34189 Fix 500 on GET resources.json when passing 1 as parameter to some filters
  * PB-35173 As a logged-in user I should not get a 500 if the folder does not exist
  * PB-34481 Fix 500 error on /mfa/verify/{provider}.json on account with no 2FA set up
  * PB-35669 Fix GenerateOpenPGPKeyService should default to GNUPGHOME environment variable if set
  * PB-35724 Fix GenerateOpenPGPKeyService should generate key with empty passphrase
  * PB-35709 Fix theme back to default randomly after refresh or navigation
  * PB-35849 Fix API app does not update "Last logged in" time
  * PB-35980 Fix has-parent filter returning duplicate resources (GITHUB #523)
  * PB-36208 Fix LogFolderWritableHealthcheck help text paths
  * PB-35957 Improve BaseIdToken test coverage
  * PB-34399 Bump singpolyma/openpgp-php package to v0.7
  * PB-34305 Upgrade lockfile-lint library on passbolt_api package-lock.json
  * PB-34306 Upgrade openpgp library on passbolt_api package-lock.json
  * PB-33333 Refactor GroupUpdateControllerTest to use Fixture Factories
  * PB-33332 Refactor ResourcesDeleteControllerTest to use Fixture Factories
  * PB-33332 Refactor ResourcesUpdateControllerTest to use Fixture Factories
  * PB-33332 Refactor ResourcesViewControllerTest to use Fixture Factories
  * PB-33332 Refactor resource index controller test
  * PB-22603 Refactor resources share service test with factories
  * PB-33331 Add missing test cases for RecoverCompleteService
  * PB-35433 Fix phpcs config to allow per file fixing in IDE
  * PB-33330 Add missing test cases for SetupCompleteService
  * PB-33329 Add missing test cases for RecoverAbortService
  * PB-35777 Remove cloaking !empty() around method calls
  * PB-35856 Fix up editorconfig for composer.json editing
  * PB-35918 Bump composer/composer package to 2.8.1
  * PB-34234 CI changes to use downstream repo
  * PB-36605 Fix testVersionCommand_Compare_With_ChangeLogs failing test
  * PB-35763 Refactor resource tags add controller
  * PB-36607 Bump cakephp/cakephp composer package version to 4.5.7

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 20 Nov 2024 09:41:39 +0000

passbolt-pro-server (4.10.0-rc.1-1) buster; urgency=medium
  * PB-34451 Update tags table with metadata fields
  * PB-35416 Update tags endpoints to support v5 format
  * PB-35697 Add ability to reuse existing shared tag by passing uuid
  * PB-35760 Tags endpoints to throw an error if allow_usage_of_personal_keys is set to false and personal key is used
  * PB-35746 As an administrator I can run a command to migrate the tags to v5 format
  * PB-35934 Update edit tags to support allow_v5_v4_downgrade settings
  * PB-21404 As an admin I'd like to purge directory_reports
  * PB-34458 Add v5 config flag PASSBOLT_V5_ENABLED
  * PB-34459 Add metadata plugin
  * PB-34450 Update resources table with metadata fields
  * PB-34455 Update comments table with data field
  * PB-34452 Update folders table with metadata fields
  * PB-34454 Create metadata_private_keys table
  * PB-34453 Create metadata_session_keys table
  * PB-34456 Create metadata_keys table
  * PB-34446 Add new resource_types entries for v5 resource types
  * PB-34448 Update resource_types table to add deleted field
  * PB-34472 Add GET/POST /metadata/settings.json endpoints
  * PB-34465 Add MetadataPrivateKey entity
  * PB-34466 Add MetadataPrivateKeysTable table
  * PB-34460 Add MetadataKey entity
  * PB-34462 Add MetadataKeysTable table
  * PB-34461 As a logged-in user the settings.json provides information on the metadata plugin
  * PB-34464 Cache key info in public key validation service for a single request
  * PB-34467 Add POST /metadata/keys.json endpoint
  * PB-34471 Add GET /metadata/keys endpoint
  * PB-35259 Update support for created_by and modified_by for metadata keys
  * PB-35163 Update DELETE /groups/<uuid>.json to support v5 resource format
  * PB-35162 Update DELETE /users/<uuid>.json endpoint to clean up metadata private & session keys
  * PB-35119 Add setup complete controller test (v5 key sharing)
  * PB-35119 Start integration of user setup complete with v5 requirements
  * PB-35122 Add support for v5 create, update resource entities
  * PB-35152 Add DELETE /metadata/session-keys/<uuid>.json endpoint
  * PB-35151 Add POST /metadata/session-keys.json endpoint
  * PB-35150 Add GET /metadata/session-keys.json endpoint
  * PB-34611 Add DELETE/PUT /resource-types/<uuid>.json endpoint
  * PB-35365 Update POST /share/folders/<uuid>.json to support v5 logic
  * PB-35363 Update GET /folders/<uuid>.json to support v5 format
  * PB-35363 Update GET /folders.json to support v5 format
  * PB-35921 Add API endpoint PUT /metadata/session-keys/<uuid>.json
  * PB-35368 As a developer I can run a command to create metadata private key & share it with all users
  * PB-35362 Update PUT /folders/<uuid>.json to support v5 format
  * PB-35361 Update POST /folders.json to support v5 format
  * PB-35120 Add healthcheck to try to decrypt the server metadata private key entry for the shared key
  * PB-35165 Update POST /share/resources/<uuid>.json to support v5 logic
  * PB-35166 Update email notification template to not include metadata (name, uri, etc.)
  * PB-35166 Update POST /share/simulate/resources/<uuid>.json to support v5 logic
  * PB-35157 Email changes for resources changes for V5
  * PB-35157 Add validation for metadata fields
  * PB-35160 Update GET /resources.json endpoint to support v5 format
  * PB-35275 Add edit and create individual metadata private key endpoints
  * PB-35171 Create a Service and CLI task to migrate v4 to v5 resources
  * PB-35272 Add server settings to prevent edition of metadata settings and key
  * PB-35260 Add signature verification for metadata private key sharing service
  * PB-35277 As an administrator I must receive an email notification when a metadata key is added
  * PB-35276 As an administrator I must receive an email notification when the metadata settings are updated
  * PB-35751 As an administrators I can update the metadata settings using command line
  * PB-35748 As an administrator I can run a command to migrate all the items to v5 format
  * PB-35747 As an administrator I can run a command to migrate the folders to v5 format
  * PB-35756 Update resource create endpoint to throw an error if allow_usage_of_personal_keys is set to false and personal key is used
  * PB-35758 Update folders create/update endpoints to throw an error if allow_usage_of_personal_keys is set to false and personal key is used
  * PB-35928 Add allow_v5_v4_downgrade to metadata types settings
  * PB-35945 Add static method to cache and reuse MetadataTypesSettingsGetService results
  * PB-35946 Add static method to cache and reuse MetadataKeysSettingsGetService results
  * PB-35930 Update edit resource to support allow_v5_v4_downgrade settings
  * PB-35931 Update edit folders to support allow_v5_v4_downgrade settings
  * PB-35937 Add allow_v5_v4_downgrade settings to passbolt update_metadata_types_settings command
  * PB-35084 Add the distribution/gpg information in the health-check
  * PB-35866 Add OperatingSystemHealthcheck for 32 vs 64 bit
  * PB-36228 ResourceCreateController should populate empty metadata_key_id if key type is user_key
  * PB-36280 Add created_by and modified_by to metadata keys index service
  * PB-34080 As an admin running the passbolt cleanup, I should delete duplicate resources_tags entries
  * PB-36516 Add populatedMetadataUserKeyId request data massaging to folder create and update
  * PB-36515 Add populatedMetadataUserKeyId request data massaging to resource edit
  * PB-36558 Add baseline support for metadata key expiry
  * PB-35085 Add TimeSyncHealthcheck for system clock sync status
  * PB-36574 As a user I can delete a metadata key that is expired and not in use
  * PB-34609 Adds is-deleted filter and resources_count contain to ResourceTypesIndexController.php
  * PB-35882 Bump cakephp/twig-view to 1.3.1 to get rid of twig security vulnerability warning
  * PB-36609 Bump twig/twig composer package to v3.11.2
  * PB-36609 Bump symfony/process composer package to v5.4.46
  * PB-35742 Fix metadata type settings should be used in tags created/edit endpoints
  * PB-35957 Fix OIDC SSO aud attribute could be an array
  * PB-34189 Fix 500 on GET resources.json when passing 1 as parameter to some filters
  * PB-35173 As a logged-in user I should not get a 500 if the folder does not exist
  * PB-34481 Fix 500 error on /mfa/verify/{provider}.json on account with no 2FA set up
  * PB-35669 Fix GenerateOpenPGPKeyService should default to GNUPGHOME environment variable if set
  * PB-35724 Fix GenerateOpenPGPKeyService should generate key with empty passphrase
  * PB-35709 Fix theme back to default randomly after refresh or navigation
  * PB-35849 Fix API app does not update "Last logged in" time
  * PB-35980 Fix has-parent filter returning duplicate resources (GITHUB #523)
  * PB-36208 Fix LogFolderWritableHealthcheck help text paths
  * PB-35957 Improve BaseIdToken test coverage
  * PB-34399 Bump singpolyma/openpgp-php package to v0.7
  * PB-34305 Upgrade lockfile-lint library on passbolt_api package-lock.json
  * PB-34306 Upgrade openpgp library on passbolt_api package-lock.json
  * PB-33333 Refactor GroupUpdateControllerTest to use Fixture Factories
  * PB-33332 Refactor ResourcesDeleteControllerTest to use Fixture Factories
  * PB-33332 Refactor ResourcesUpdateControllerTest to use Fixture Factories
  * PB-33332 Refactor ResourcesViewControllerTest to use Fixture Factories
  * PB-33332 Refactor resource index controller test
  * PB-22603 Refactor resources share service test with factories
  * PB-33331 Add missing test cases for RecoverCompleteService
  * PB-35433 Fix phpcs config to allow per file fixing in IDE
  * PB-33330 Add missing test cases for SetupCompleteService
  * PB-33329 Add missing test cases for RecoverAbortService
  * PB-35777 Remove cloaking !empty() around method calls
  * PB-35856 Fix up editorconfig for composer.json editing
  * PB-35918 Bump composer/composer package to 2.8.1
  * PB-34234 CI changes to use downstream repo
  * PB-36605 Fix testVersionCommand_Compare_With_ChangeLogs failing test
  * PB-35763 Refactor resource tags add controller
  * PB-36607 Bump cakephp/cakephp composer package version to 4.5.7

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 14 Nov 2024 13:15:39 +0000

passbolt-pro-server (4.9.1-1) buster; urgency=medium
  * PB-34220 As a user I can search by users and groups case insensitively on PostgreSQL
  * PB-34246 As an administrator purging the action logs table, I can set a limit option (100k per default)
  * PB-34247 Adds a set of actions to be purged by the passbolt action_logs_purge command
  * PB-33939 As an administrator when running bin/cake passbolt -h, I should see all the passbolt commands listed
  * PB-32991 Optimizes CI pipeline run time on api repositories
  * PB-34219 Adds validation to retention days option in the action_logs_purge command
  * PB-33333 Refactor various tests to use fixture factories

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 14 Aug 2024 10:10:14 +0000

passbolt-pro-server (4.9.0-1) buster; urgency=medium
  * PB-33690 Improves response times by adding an index to gpgkeys.user_id column
  * PB-33639 Adds additional contain parameters to share/search-aros.json for enhanced performance
  * PB-33936 Adds a has-users filter to gpgkeys.json index endpoint
  * PB-33813 Adds a fixed limit to the search-aros.json endpoint
  * PB-33828 As an administrator I can define the deletion behaviour of users to suspended instead of deleted on directory synchronisation
  * PB-33014 As an administrator I want to know if TLS/SSL verification is disabled when connecting to LDAP server
  * PB-32284 As an administrator I can set the Default OpenID Connect param alg as optional as specified by the RFC
  * PB-33616 As a user creating a resource I should get a validation error if the secret is a string and not an array
  * PB-33664 Fix missing "is" in the database schema up to date sentence (GITHUB #517)
  * PB-33427 As a user logging-in with Azure SSO I should not get a 500 if the secret is expired
  * PB-33881 Fixes a typo for the OAuth2 environment variable
  * PB-33429 As a user I should retrieve resources and folders parent folders in a single query
  * PB-33826 Improves the performance of resources.json by improving the datetime fields processing
  * PB-24995 Improves last_logged_in property query performance to reduce response time of users.json endpoint
  * PB-33653 Improves is_mfa_enabled property query performance to reduce response time of users.json endpoint
  * PB-33702 Improves has-access filter performance on users.json
  * PB-32591 Validate passbolt.plugins.smtpSettings.security configuration values before passing it to SMTP server
  * PB-33214 Update sql export / improve mysql backup command compatibility with mariadb-dump
  * PB-33688 Improves the performance of tags.json index endpoint
  * PB-33650 Improves the performance of resources.json when retrieving tags
  * PB-33692 Bump enygma/yubikey to v3.8
  * PB-33747 Fix command injections vulnerabilities in composer/composer package

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 23 Jul 2024 12:17:20 +0000

passbolt-pro-server (4.9.0-rc.1-1) buster; urgency=medium
  * PB-33828 As an administrator I can define the deletion behaviour of users to suspended instead of deleted
  * PB-33014 As an administrator I want to know if TLS/SSL verification is disabled when connecting to LDAP server
  * PB-32284 As an administrator I can set the Default OpenID Connect param alg as optional as specified by the RFC
  * PB-33690 Improves response times by adding an index to gpgkeys.user_id column
  * PB-33639 Adds additional contain parameters to share/search-aros.json for enhanced performance
  * PB-33936 Adds a has-users filter to gpgkeys.json index endpoint
  * PB-33813 Adds a fixed limit to the search-aros.json endpoint
  * PB-33688 Improves the performance of tags.json index endpoint
  * PB-33650 Improves the performance of resources.json when retrieving tags
  * PB-33429 As a user I should retrieve resources and folders parent folders in a single query
  * PB-33826 Improves the performance of resources.json by improving the datetime fields processing
  * PB-24995 Improves last_logged_in property query performance to reduce response time of users.json endpoint
  * PB-33653 Improves is_mfa_enabled property query performance to reduce response time of users.json endpoint
  * PB-33702 Improves has-access filter performance on users.json
  * PB-32591 Validate passbolt.plugins.smtpSettings.security configuration values before passing it to SMTP server
  * PB-33214 Update sql export / improve mysql backup command compatibility with mariadb-dump
  * PB-33747 Fix command injections vulnerabilities in composer/composer package
  * PB-33427 As a user logging-in with Azure SSO I should not get a 500 if the secret is expired
  * PB-33881 Fixes a typo for the OAuth2 environment variable
  * PB-33616 As a user creating a resource I should get a validation error if the secret is a string and not an array
  * PB-33692 Bump enygma/yubikey to v3.8

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 18 Jul 2024 15:46:16 +0000

passbolt-pro-server (4.8.0-1) buster; urgency=medium
  * PB-33071 As an administrator I can purge the action logs table with a dedicated command
  * PB-33231 As an administrator I want to know if a custom certificate is in use for SMTP
  * PB-32579 As an administrator I can view email_queue records via passbolt command
  * PB-30381 As administrator I want to be able to start a docker instance or pod instance even when my subscription key is expired
  * PB-32888 As an admin I should not get a time-out on health checks on air-gapped network
  * PB-32983 Access email settings only when emails are sent
  * PB-33451 Fix 500 error on authentication when nonce is not a string
  * PB-33073 As a user logging in, invalid login operation should not be logged as success in the audit logs
  * PB-33234 The application should not throw an error if the JWT public key is not parsable
  * PB-30314 Bump passbolt/passbolt-test-data to v4.8

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 21 May 2024 11:50:14 +0000

passbolt-pro-server (4.8.0-rc.1-1) buster; urgency=medium
  * PB-33071 As an administrator I can purge the action logs table with a dedicated command
  * PB-33231 As an administrator I want to know if a custom certificate is in use for SMTP
  * PB-32579 As an administrator I can view email_queue records via passbolt command
  * PB-30381 As administrator I want to be able to start a docker instance or pod instance even when my subscription key is expired
  * PB-32888 As an admin I should not get a time-out on health checks on air-gapped network
  * PB-32983 Access email settings only when emails are sent
  * PB-33451 Fix 500 error on authentication when nonce is not a string
  * PB-33073 As a user logging in, invalid login operation should not be logged as success in the audit logs
  * PB-33234 The application should not throw an error if the JWT public key is not parsable
  * PB-30314 Bump passbolt/passbolt-test-data to v4.8

 -- Passbolt SA package signing key <contact@passbolt.com>  Fri, 17 May 2024 13:47:28 +0000

passbolt-pro-server (4.7.0-1) buster; urgency=medium
  * PB-33035 As an administrator I can configure directory sync to use Custom SSL certificate
  * PB-29222 As an administrator I want to know if SSL verification of SSO integration is not the default
  * PB-29223 As an administrator I want to know if directory sync endpoints are enabled
  * PB-25710 As an administrator I can add a fallback property to map my organisation AD user username
  * PB-30330 Add HTTP HEAD method support to /healthcheck/status.json to support more uptime monitoring tools (GITHUB #507)
  * PB-26156 As an administrator I can configure SMTP to use TLS with a self-signed cert on my mail server (GITHUB #498)
  * PB-29271 As an administrator synchronizing with LDAP I should see resources expired on resource permission loss
  * PB-30148 Fix SSO JWT iss check failing due to trailing slash
  * PB-30255 As an authenticated user I cannot access to the healthcheck endpoint when debug is on
  * PB-33060 As an administrator I can synchronize directories with users with special characters
  * PB-30379 As an authenticating user I should not get a 500 if the gpg_auth is not an array
  * PB-32889 As an administrator I should not get an exception when running core healthcheck and the host cannot be resolved
  * PB-32928 As user I should see the accurate URL in the email footer when passbolt runs on multiple instances
  * PB-32566 As a user setting up my account I should not get an unexpected 500
  * PB-32903 Fix deprecation error on password expiry settings validation
  * PB-29983 Refactor health check code domain for better maintenance
  * PB-30394 Moves code in ActionLogsModelListener into a dedicated service
  * PB-32881 Disable by default all plugins in integration tests
  * PB-32978 Use dependency proxy to reduce docker pull limit
  * PB-22605 Refactor ShareSearchControllerTest, SecretViewControllerTest and GroupsDeleteControllerTest with fixture factories
  * PB-32594 Add tests for SecretCreateService

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 30 Apr 2024 13:54:45 +0000

passbolt-pro-server (4.7.0-rc.1-1) buster; urgency=medium
  * PB-33035 As an administrator I can configure directory sync to use Custom SSL certificate
  * PB-29222 As an administrator I want to know if SSL verification of SSO integration is not the default
  * PB-29223 As an administrator I want to know if directory sync endpoints are enabled
  * PB-25710 As an administrator I can add a fallback property to map my organisation AD user username
  * PB-30330 Add HTTP HEAD method support to /healthcheck/status.json to support more uptime monitoring tools (GITHUB #507)
  * PB-26156 As an administrator I can configure SMTP to use TLS with a self-signed cert on my mail server (GITHUB #498)
  * PB-29271 As an administrator synchronizing with LDAP I should see resources expired on resource permission loss
  * PB-30148 Fix SSO JWT iss check failing due to trailing slash
  * PB-30255 As an authenticated user I cannot access to the healthcheck endpoint when debug is on
  * PB-33060 As an administrator I can synchronize directories with users with special characters
  * PB-30379 As an authenticating user I should not get a 500 if the gpg_auth is not an array
  * PB-32889 As an administrator I should not get an exception when running core healthcheck and the host cannot be resolved
  * PB-32928 As user I should see the accurate URL in the email footer when passbolt runs on multiple instances
  * PB-32566 As a user setting up my account I should not get an unexpected 500
  * PB-32903 Fix deprecation error on password expiry settings validation
  * PB-29983 Refactor health check code domain for better maintenance
  * PB-30394 Moves code in ActionLogsModelListener into a dedicated service
  * PB-32881 Disable by default all plugins in integration tests
  * PB-32978 Use dependency proxy to reduce docker pull limit
  * PB-22605 Refactor ShareSearchControllerTest, SecretViewControllerTest and GroupsDeleteControllerTest with fixture factories
  * PB-32594 Add tests for SecretCreateService

 -- Passbolt SA package signing key <contact@passbolt.com>  Fri, 26 Apr 2024 12:20:45 +0000

passbolt-pro-server (4.6.2-1) buster; urgency=medium
  * PB-32932 Fix error template title

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 11 Apr 2024 16:24:50 +0000

passbolt-pro-server (4.6.1-1) buster; urgency=medium
  * PB-32354 As an admin, I can re-enable a suspended user (GITHUB #512)

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 27 Mar 2024 11:49:28 +0000

passbolt-pro-server (4.6.0-1) buster; urgency=medium
  * PB-24485 As an administrator I can view the API healthcheck in the administration section
  * PB-29396 As an administrator I can hide the share folder capability with a RBAC
  * PB-25463 As an administrator I can disable the healthcheck index endpoint with a flag
  * PB-29397 As an administrator I can disable the healthcheck administration panel with a flag
  * PB-29050 As a user I can identify with Microsoft ADFS SSO provider
  * PB-29050 As an administrator I can enable Microsoft ADFS as SSO provider
  * PB-29009 As an administrator completing my setup I should not receive a notification that I completed my setup
  * PB-26152 The API should identify openpgpjs v5.10 revoked key as revoked
  * PB-29437 As an administrator I can log internal errors with the complete trace in Json format
  * PB-29188 As an administrator I can see log statements on token claim errors triggered by SSO authentication
  * PB-29206 As an administrator I can disable ssl peer certification verification on SSO authentication
  * PB-29206 As an administrator I can define a cafile for self-signed certificate ssl on SSO authentication
  * PB-30155 Update phpseclib/phpseclib to fix composer security vulnerability
  * PB-30019 As a user I should not get a 500 when editing a user with payload containing integers as fields
  * PB-29964 As an administrator disabling a user I should not get a 500 if the disabled date is not valid
  * PB-29970 As a group manager I should receive an accurate summary in my notifications on group permission changes
  * PB-29054 As an administrator I should not get an error when running the cleanup command and the users table does not exist
  * PB-28719 As an administrator sending emails the timezone displayed in the emails should be in the correct time zone
  * PB-30266 As an administrator sending emails with the email digest the message ID should be defined
  * PB-27709 As an administrator I should not get an error updating directory sync settings after a server key rotation
  * PB-28247 Update cakephp/cakephp to version 4.5

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 14 Mar 2024 11:57:15 +0000

passbolt-pro-server (4.6.0-rc.2-1) buster; urgency=medium
  * PB-30182 Build the styleguide on version 4.6.1

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 13 Mar 2024 09:18:41 +0000

passbolt-pro-server (4.6.0-rc.1-1) buster; urgency=medium
  * PB-24485 As an administrator I can view the API healthcheck in the administration section
  * PB-29396 As an administrator I can hide the share folder capability with a RBAC
  * PB-25463 As an administrator I can disable the healthcheck index endpoint with a flag
  * PB-29397 As an administrator I can disable the healthcheck administration panel with a flag
  * PB-29050 As a user I can identify with Microsoft ADFS SSO provider
  * PB-29050 As an administrator I can enable Microsoft ADFS as SSO provider
  * PB-29009 As an administrator completing my setup I should not receive a notification that I completed my setup
  * PB-26152 The API should identify openpgpjs v5.10 revoked key as revoked
  * PB-29437 As an administrator I can log internal errors with the complete trace in Json format
  * PB-29188 As an administrator I can see log statements on token claim errors triggered by SSO authentication
  * PB-29206 As an administrator I can disable ssl peer certification verification on SSO authentication
  * PB-29206 As an administrator I can define a cafile for self-signed certificate ssl on SSO authentication
  * PB-30155 Update phpseclib/phpseclib to fix composer security vulnerability
  * PB-30019 As a user I should not get a 500 when editing a user with payload containing integers as fields
  * PB-29964 As an administrator disabling a user I should not get a 500 if the disabled date is not valid
  * PB-29970 As a group manager I should receive an accurate summary in my notifications on group permission changes
  * PB-29054 As an administrator I should not get an error when running the cleanup command and the users table does not exist
  * PB-28719 As an administrator sending emails the timezone displayed in the emails should be in the correct time zone
  * PB-30266 As an administrator sending emails with the email digest the message ID should be defined
  * PB-27709 As an administrator I should not get an error updating directory sync settings after a server key rotation
  * PB-28247 Update cakephp/cakephp to version 4.5

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 12 Mar 2024 16:33:06 +0000

passbolt-pro-server (4.5.2-1) buster; urgency=medium
  * PB-29621 As a user I should get a 400 if the locale passed in the URL is not a string
  * PB-29526 As an administrator I should be notified of group removal when the operation is performed by a users directory synchronization
  * PB-28867 As a user I should see an improved performance when requesting the folder index endpoint
  * PB-28635 As an administrator I can disable the email digest without having to change the command sending the emails
  * PB-29680 Bump dependency composer/composer to v2.7.0
  * PB-29109 Support PHP 8.3 for passbolt API
  * PB-29376 GITHUB-506 Bump dependency duosecurity/duo_universal_php to 1.0.2 (#506)
  * PB-29514 Fix password expiry test which randomly fails
  * PB-29625 Fix CI to support latest composer dependency version

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 14 Feb 2024 11:27:51 +0000

passbolt-pro-server (4.5.0-1) buster; urgency=medium
  * PB-23913 As a user I can define the expiry date of a password
  * PB-23913 As an administrator I can define advanced password expiry settings
  * PB-23913 As a user I can see my passwords marked as expired when users lose permissions on these
  * PB-23913 As an administrator I can activate the password expiry feature
  * PB-28923 As a user I want to be able to use passbolt in Russian
  * PB-21484 As an administrator I can define Microsoft 365 and Outlook providers in SMTP settings
  * PB-19652 As an administrator I can cleanup groups with no members with the cleanup command
  * PB-27707 As administrator, with RBAC I should be able to set can see users workspace to Allow if group manager
  * PB-28716 Desktop application flag is now enabled by default
  * PB-26203 Desktop app define the account kit exportation help page
  * PB-28521 Add migration to alter gpgkeys.uid column length to 769
  * PB-27616 Improve resources serialization performance on GET resources.json
  * PB-27760 As administrator, I can hide the administrator identity behind LDAP triggered emails
  * PB-29148 Bump selenium API plugin version to v4.5
  * PB-29005 Upgrades phpseclib/phpseclib to fix composer audit security vulnerability
  * PB-22336 As an admin I should be able to enable/disable request group managers to add users to groups emails separately (LDAP/AD)
  * PB-28871 Mitigate supply chain attack on PR and lint lock files
  * PB-28658 Mitigate supply chain attack on post npm install script
  * PB-27788 Correct gendered language on ldap sync ignore messages
  * PB-29200 Fixes the recover_user command (GITHUB #504)
  * PB-29164 Fix recent InstallCommand changes breaking selenium tests
  * PB-29132 Fix composer lock file not up-to-date message when installing dependencies
  * PB-29160 Fix failing static analysis job in CI
  * PB-29137 Fix failing in UsersEditDisableControllerTest file due to purifier
  * PB-29113 Fix a typo in the email sent when admins lose their admin role
  * PB-28130 Fix invalid cookie name should not trigger a 500
  * PB-29007 Fix constantly failing test in RbacsUpdateControllerTest file
  * PB-28991 Fix email queue entries not marked as sent
  * PB-28857 Require phpunit-speedtrap to track down slow tests
  * PB-25516 Remove --dev from .gitlab test options, it has not effect and will break with composer v3
  * PB-28844 Improves the methods testing email content
  * PB-28845 Skip unauthenticated exception from logging
  * PB-28653 Speed-up tests by mocking the client in healthcheck relevant tests

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 08 Feb 2024 11:47:08 +0000

passbolt-pro-server (4.5.0-rc.1-1) buster; urgency=medium
  * PB-23913 As a user I can define the expiry date of a password
  * PB-23913 As an administrator I can define advanced password expiry settings
  * PB-23913 As a user I can see my passwords marked as expired when users lose permissions on these
  * PB-23913 As an administrator I can activate the password expiry feature
  * PB-28923 As a user I want to be able to use passbolt in Russian
  * PB-21484 As an administrator I can define Microsoft 365 and Outlook providers in SMTP settings
  * PB-19652 As an administrator I can cleanup groups with no members with the cleanup command
  * PB-27707 As administrator, with RBAC I should be able to set can see users workspace to Allow if group manager
  * PB-28716 Desktop application flag is now enabled by default
  * PB-26203 Desktop app define the account kit exportation help page
  * PB-28521 Add migration to alter gpgkeys.uid column length to 769
  * PB-27616 Improve resources serialization performance on GET resources.json
  * PB-27760 As administrator, I can hide the administrator identity behind LDAP triggered emails
  * PB-29148 Bump selenium API plugin version to v4.5
  * PB-29005 Upgrades phpseclib/phpseclib to fix composer audit security vulnerability
  * PB-22336 As an admin I should be able to enable/disable request group managers to add users to groups emails separately (LDAP/AD)
  * PB-28871 Mitigate supply chain attack on PR and lint lock files
  * PB-28658 Mitigate supply chain attack on post npm install script
  * PB-27788 Correct gendered language on ldap sync ignore messages
  * PB-29200 Fixes the recover_user command (GITHUB #504)
  * PB-29164 Fix recent InstallCommand changes breaking selenium tests
  * PB-29132 Fix composer lock file not up-to-date message when installing dependencies
  * PB-29160 Fix failing static analysis job in CI
  * PB-29137 Fix failing in UsersEditDisableControllerTest file due to purifier
  * PB-29113 Fix a typo in the email sent when admins lose their admin role
  * PB-28130 Fix invalid cookie name should not trigger a 500
  * PB-29007 Fix constantly failing test in RbacsUpdateControllerTest file
  * PB-28991 Fix email queue entries not marked as sent
  * PB-28857 Require phpunit-speedtrap to track down slow tests
  * PB-25516 Remove --dev from .gitlab test options, it has not effect and will break with composer v3
  * PB-28844 Improves the methods testing email content
  * PB-28845 Skip unauthenticated exception from logging
  * PB-28653 Speed-up tests by mocking the client in healthcheck relevant tests

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 01 Feb 2024 12:27:52 +0000

passbolt-pro-server (4.4.2-1) buster; urgency=medium
  * PB-27616 As a user I should see improved performances when retrieving resources on the GET resources.json entry point
  * PB-28991 As a user emails should be resent if the first attempt failed

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 29 Nov 2023 10:56:19 +0000

passbolt-pro-server (4.4.1-1) buster; urgency=medium
  * PB-28521 Alter the gpgkeys.uid column length to 769 to enable the synchronisation of user with very long names
  * PB-28728 Fix SSO Azure response_mode should be set to query by default to avoid session cookie SameSite issue
  * PB-27957 As an administrator I should be notified that an administrator was deleted only when an administrator has been deleted, and not a regular user
  * PB-27927 Remove unused user_agents table
  * PB-28616 Refactor the email digest plugin code for easier usage and maintainability

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 21 Nov 2023 11:05:58 +0000

passbolt-pro-server (4.4.0-1) buster; urgency=medium
  * PB-27950 As a user I can use generic OAuth2 as single sign on provider
  * PB-27773 As an administrator I can deny access to the mobile setup screen with RBAC
  * PB-27951 As system operator I should be warned in the healthcheck when using PHP < 8.1, as support for PHP versions 7.4 and 8.0 will soon be removed
  * PB-26123 Update message for LDAP sync adding users to groups
  * PB-27948 Guest identification by their username should be case-insensitive, unless specified in configuration
  * PB-27957 Send notifications to all administrators when an administrator is deleted
  * PB-27941 Send notifications to administrators when an administrator loses its administrator role
  * PB-28171 Enable the email digest by default
  * PB-28274 Fixes an XSS Security issue with mail content sanitization
  * PB-26158 As an administrator I should be able to use the memberof LDAP filter following with a ldap-query
  * PB-27895 Fixes a wrong user passphrase policy URL in email the email sent after setting edition
  * PB-25477 As an administrator, I should be able to recreate a user with an email that exists in the db via the command line
  * PB-27799 As an administrator installing passbolt on PostgreSQL, the database encoding should be set to utf-8
  * PB-27857 Fix help site release notes automation by adding flavour on help site release notes merge request
  * PB-27932 Improve code static by using cakedccakephp/phpstan
  * PB-28079 Remove deprecation warnings from the test suite

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 07 Nov 2023 10:59:42 +0000

passbolt-pro-server (4.4.0-rc.1-1) buster; urgency=medium
  * PB-27950 As a user I can use generic OAuth2 as single sign on provider
  * PB-27773 As an administrator I can deny access to the mobile setup screen with RBAC
  * PB-27951 As system operator I should be warned in the healthcheck when using PHP < 8.1, as support for PHP versions 7.4 and 8.0 will soon be removed
  * PB-26123 Update message for LDAP sync adding users to groups
  * PB-27948 Guest identification by their username should be case-insensitive, unless specified in configuration
  * PB-27957 Send notifications to all administrators when an administrator is deleted
  * PB-27941 Send notifications to administrators when an administrator loses its administrator role
  * PB-28171 Enable the email digest by default
  * PB-28274 Fixes an XSS Security issue with mail content sanitization
  * PB-26158 As an administrator I should be able to use the memberof LDAP filter following with a ldap-query
  * PB-27895 Fixes a wrong user passphrase policy URL in email the email sent after setting edition
  * PB-25477 As an administrator, I should be able to recreate a user with an email that exists in the db via the command line
  * PB-27799 As an administrator installing passbolt on PostgreSQL, the database encoding should be set to utf-8
  * PB-27857 Fix help site release notes automation by adding flavour on help site release notes merge request
  * PB-27932 Improve code static by using cakedccakephp/phpstan
  * PB-28079 Remove deprecation warnings from the test suite

 -- Passbolt SA package signing key <contact@passbolt.com>  Fri, 03 Nov 2023 11:23:56 +0000

passbolt-pro-server (4.3.0-1) buster; urgency=medium
  * PB-26092 As an administrator I can configure policy for user passphrase
  * PB-25405 As an administrator installing passbolt through the web installer, I should be able to configure authentication method for SMTP
  * PB-25977 As an administrator I can truncate all account recovery tables, dropping all user and organisation settings
  * PB-25185 As a signed-in user on the browser extension, I want to export my account to configure the Windows application
  * PB-25685 As an administrator I can lock the set LDAP settings endpoint
  * PB-25944 As an administrator I can define the schema on installation with Postgres
  * PB-25497 As an administrator I can disable users (experimental)
  * PB-25709 Performance optimisation of all the SQL queries retrieving resources tags
  * PB-25973 Performance optimisation of the SQL query retrieving tags
  * PB-24916 Adjust SSO Azure error to return 400 instead of 500 when testing configuration
  * PB-25999 Performance optimisation of update secret process
  * PB-26097 Adds cake.po translation files for all languages supported by CakePHP
  * PB-25827 As a user with encrypted message enabled in the email content visibility, I would like to see the gpg message encrypted with my key when a password is updated
  * PB-25802 As a user I want to see localized date in my emails
  * PB-25500 Fix wording in SSO enabled email
  * PB-25863 Fix emails not sent due to message-id header missing
  * PB-27799 As an administrator installing passbolt on PostgreSQL, the database encoding should be set to utf-8
  * PB-25709 Remove unused resources tags indexes
  * PB-25894 Run CI on postgres versions 13 and 15 instead of version 12 only
  * PB-25969 As a developer, I can render emails in tests with html special chars
  * PB-26107 Upgrade the cakephp/chronos library
  * PB-26159 Update singpolyma/openpgp-php to improve compatibility with PHP 8.2
  * PB-25247 Add integration tests on the MFA select provider endpoint

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 26 Sep 2023 10:30:57 +0000

passbolt-pro-server (4.3.0-rc.1-1) buster; urgency=medium
  * PB-26092 As an administrator I can configure policy for user passphrase
  * PB-25405 As an administrator installing passbolt through the web installer, I should be able to configure authentication method for SMTP
  * PB-25977 As an administrator I can truncate all account recovery tables, dropping all user and organisation settings
  * PB-25185 As a signed-in user on the browser extension, I want to export my account to configure the Windows application
  * PB-25685 As an administrator I can lock the set LDAP settings endpoint
  * PB-25944 As an administrator I can define the schema on installation with Postgres
  * PB-25497 As an administrator I can disable users (experimental)
  * PB-25709 Performance optimisation of all the SQL queries retrieving resources tags
  * PB-25973 Performance optimisation of the SQL query retrieving tags
  * PB-24916 Adjust SSO Azure error to return 400 instead of 500 when testing configuration
  * PB-25999 Performance optimisation of update secret process
  * PB-26097 Adds cake.po translation files for all languages supported by CakePHP
  * PB-25827 As a user with encrypted message enabled in the email content visibility, I would like to see the gpg message encrypted with my key when a password is updated
  * PB-25802 As a user I want to see localized date in my emails
  * PB-25500 Fix wording in SSO enabled email
  * PB-25863 Fix emails not sent due to message-id header missing
  * PB-25709 Remove unused resources tags indexes
  * PB-25894 Run CI on postgres versions 13 and 15 instead of version 12 only
  * PB-25969 As a developer, I can render emails in tests with html special chars
  * PB-26107 Upgrade the cakephp/chronos library
  * PB-26159 Update singpolyma/openpgp-php to improve compatibility with PHP 8.2
  * PB-25247 Add integration tests on the MFA select provider endpoint

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 21 Sep 2023 17:08:51 +0000

passbolt-pro-server (4.2.0-1) buster; urgency=medium
  * PB-24987 As an administrator I can define the password policies from the administration UI
  * PB-25462 As an administrator I can deactivate RBACs with a feature flag
  * PB-25036 As an administrator I can select PostgreSQL as database driver on installation
  * PB-21403 As an administrator I can purge the email queue table from the command line
  * PB-24990 Performance optimisation of the cleanup command responsible to delete secrets without permissions
  * PB-25263 Performance optimisation of the entry point retrieving the folders activity logs
  * PB-25264 Performance optimisation of all the SQL queries retrieving user profiles
  * PB-25199 Lower case UUIDs given as requests parameters before marshalling and persisting data
  * PB-25389 As an administrator healthcheck/status.json requests should not be logged in the action_logs table
  * PB-25734 As a user I do not want the first letters of my first and last names upper-cased when my profile is saved
  * PB-25181 CSRF cookie should have secure flag set when site is served under HTTPs
  * PB-25798 Fixes laminas/laminas-diactoros vulnerability by using the longwave/laminas-diactoros package
  * PB-24931 As a user when I rename a tag with the same name, the tag should not be deleted
  * PB-25019 As an administrator I can define LDAP filters case sensitivity
  * PB-24986 As a user decrypting the SSO organisation settings I should not get a 500 error when the key could not be found in the keyring
  * PB-25859 As an administrator notified of an account recovery I should see the first and last name of the acting user in the email
  * PB-25472 As a user I can use an SMTP server using NTLM authentication
  * PB-25475 As an administrator running the healthcheck, I should be warned for self-signed and wildcard certs instead of having a failure
  * PB-25720 As an administrator I should not see a false error in the healthcheck when reading the App.base config
  * PB-25800 As an administrator I should be able to migrate from v3 my default LDAP settings
  * PB-21412 Upgrade phpstan to v1.10.15
  * PB-21413 Upgrade psalm version to v5.12.0
  * PB-21414 Upgrade cakephp codesniffer to v4.7
  * PB-21672 Bump lorenzo/cakephp-email-queue package to 5.1
  * PB-21917 Bump bcrowe/cakephp-api-pagination to v3.0.0
  * PB-21918 Bump spomky-labs/otphp to v10.0.3
  * PB-21919 Update enygma/yubikey package
  * PB-22052 Passbolt test data version bump to v4.1.0
  * PB-25379 Update vierge-noire/cakephp-fixture-factories package
  * PB-24575 As a developer release notes should be automatically published on Github on new tag release
  * PB-25471 As a developer Crowdin should export only a selected subset of languages
  * PB-25801 As a developer I can create unpublished test packages

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 24 Aug 2023 14:38:59 +0000

passbolt-pro-server (4.2.0-rc.2-1) buster; urgency=medium
  * PB-25964 As a user login with JWT authentication the verify-token in the challenge should not be lower cased

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 24 Aug 2023 11:00:31 +0000

passbolt-pro-server (4.2.0-rc.1-1) buster; urgency=medium
  * PB-24987 As an administrator I can define the password policies from the administration UI
  * PB-25462 As an administrator I can deactivate RBACs with a feature flag
  * PB-25036 As an administrator I can select PostgreSQL as database driver on installation
  * PB-21403 As an administrator I can purge the email queue table from the command line
  * PB-24990 Performance optimisation of the cleanup command responsible to delete secrets without permissions
  * PB-25263 Performance optimisation of the entry point retrieving the folders activity logs
  * PB-25264 Performance optimisation of all the SQL queries retrieving user profiles
  * PB-25199 Lower case UUIDs given as requests parameters before marshalling and persisting data
  * PB-25389 As an administrator healthcheck/status.json requests should not be logged in the action_logs table
  * PB-25734 As a user I do not want the first letters of my first and last names upper-cased when my profile is saved
  * PB-25181 CSRF cookie should have secure flag set when site is served under HTTPs
  * PB-25798 Fixes laminas/laminas-diactoros vulnerability by using the longwave/laminas-diactoros package
  * PB-24931 As a user when I rename a tag with the same name, the tag should not be deleted
  * PB-25019 As an administrator I can define LDAP filters case sensitivity
  * PB-24986 As a user decrypting the SSO organisation settings I should not get a 500 error when the key could not be found in the keyring
  * PB-25859 As an administrator notified of an account recovery I should see the first and last name of the acting user in the email
  * PB-25472 As a user I can use an SMTP server using NTLM authentication
  * PB-25475 As an administrator running the healthcheck, I should be warned for self-signed and wildcard certs instead of having a failure
  * PB-25720 As an administrator I should not see a false error in the healthcheck when reading the App.base config
  * PB-25800 As an administrator I should be able to migrate from v3 my default LDAP settings
  * PB-21412 Upgrade phpstan to v1.10.15
  * PB-21413 Upgrade psalm version to v5.12.0
  * PB-21414 Upgrade cakephp codesniffer to v4.7
  * PB-21672 Bump lorenzo/cakephp-email-queue package to 5.1
  * PB-21917 Bump bcrowe/cakephp-api-pagination to v3.0.0
  * PB-21918 Bump spomky-labs/otphp to v10.0.3
  * PB-21919 Update enygma/yubikey package
  * PB-22052 Passbolt test data version bump to v4.1.0
  * PB-25379 Update vierge-noire/cakephp-fixture-factories package
  * PB-24575 As a developer release notes should be automatically published on Github on new tag release
  * PB-25471 As a developer Crowdin should export only a selected subset of languages
  * PB-25801 As a developer I can create unpublished test packages

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 23 Aug 2023 14:17:34 +0000

passbolt-pro-server (4.1.3-1) buster; urgency=medium
  * PB-25506 Fix LDAP sync not working after migrating to v4 by allowing administrators to select the field to map to username in LDAP connection
  * PB-25536 Fix OpenLDAP group object class & group member attribute mismatch
  * PB-25563 PBL-09-001 Mitigate usage of sensitive keywords in user and group custom filters
  * PB-25564 PBL-09-002 Mitigate arbitrary LDAP data exfiltration via fields_mapping

 -- Passbolt SA package signing key <contact@passbolt.com>  Fri, 04 Aug 2023 08:42:29 +0000

passbolt-pro-server (4.1.3-rc.1-1) buster; urgency=medium
  * PB-25506 Fix LDAP sync not working after migrating to v4 by allowing administrators to select the field to map to username in LDAP connection
  * PB-25536 Fix OpenLDAP group object class & group member attribute mismatch
  * PB-25563 PBL-09-001 Mitigate usage of sensitive keywords in user and group custom filters
  * PB-25564 PBL-09-002 Mitigate arbitrary LDAP data exfiltration via fields_mapping

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 03 Aug 2023 17:34:14 +0000

passbolt-pro-server (4.1.2-1) buster; urgency=medium
  * PB-25472 Fix emails not sent for SMTP server using NTLM authentication
  * PB-25471 Crowdin should export only a selected subset of languages

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 26 Jul 2023 14:19:13 +0000

passbolt-pro-server (4.1.2-rc.2-1) buster; urgency=medium
  * PB-25472 Fix emails not sent for SMTP server using NTLM authentication
  * PB-25373 Revert changes for LDAP sync not working issue
  * PB-25471 Crowdin should export only a selected subset of languages

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 26 Jul 2023 09:38:27 +0000

passbolt-pro-server (4.1.2-rc.1-1) buster; urgency=medium
  * PB-25373 LDAP sync not working by selecting all group fields

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 13 Jul 2023 15:38:48 +0000

passbolt-pro-server (4.1.1-1) buster; urgency=medium
  * PB-25304 As an administrator the application healthcheck should compare passbolt version with the latest stable release
  * PB-25325 As an administrator running the database healthcheck I should not see a false fail on the default database content

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 13 Jul 2023 11:24:21 +0000

passbolt-pro-server (4.1.1-rc.2-1) buster; urgency=medium
  * PB-25304 As an administrator the application healthcheck should compare passbolt version with the latest stable release

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 12 Jul 2023 10:51:18 +0000

passbolt-pro-server (4.1.1-rc.1-1) buster; urgency=medium
  * PB-25325 As an administrator running the database healthcheck I should not see a false fail on the default database content

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 11 Jul 2023 12:04:48 +0000

passbolt-pro-server (4.1.0-1) buster; urgency=medium
  * PB-24259 As an administrator I can define with role based access control users' rights
  * PB-24054 As an administrator I can define LDAP field mapping
  * PB-24051 As an administrator I can define LDAP multi domain
  * PB-24744 As a LU the date time format in the response always display the time zone
  * PB-24929 As a LU with multiple MFA providers setup, the latest provider used is proposed by default
  * PB-24488 Non-JSON request should return a 404 if JSON is required
  * PB-24617 As LU I want improved performance while sharing a folder with a user
  * PB-23843 Update SSO settings endpoint to allow prompt for Azure provider
  * PB-24244 As an administrator I can remap email and username properties
  * PB-25030 As an admin I can set a feature flag to prevent user email enumeration
  * PB-24273 As an admin I can disable the GET auth/logout.json endpoint (enabled by default)
  * PB-19510 As a user I should be redirected to HTTPS if SSL FORCE configuration is true
  * PB-24566 As an admin the email settings password should be masked in the test email command log output
  * PB-23591 As a user authenticating I can perform a limited amount of TOTP MFA attempts
  * PB-24782 As an administrator I can perform LDAP synchronization with over 1k records with improved performance
  * PB-24914 As an admin I should be able to rename a tag with uppercase
  * PB-24658 As an admin I should see no false warning in the email notification configuration section
  * PB-25275 As an admin I should see the option page during installation after creating the server GPG keys
  * PB-25276 As an admin on installation SSL force option should be set to true if the installation is launched over https
  * PB-25274 Set force SSL config to false by default
  * PB-24925 Updates the fixture factories to its latest version
  * PB-24913 Removes "type" from required JSON schema definition for TOTP resource types
  * PB-24305 Recovery and register legacy routes are not used in emails and commands outputs
  * PB-21604 Extract composer audit task from checkstyle job and make it non-blocking
  * PB-21641 Rename check-style job to static-analysis and make it blocking

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 04 Jul 2023 14:43:24 +0000

passbolt-pro-server (4.1.0-rc.3-1) buster; urgency=medium
  * PB-25275 As an admin I should see the option page during installation after creating the server GPG keys

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 29 Jun 2023 12:36:14 +0000

passbolt-pro-server (4.1.0-rc.2-1) buster; urgency=medium
  * PB-24273 As an admin I can disable the GET auth/logout.json endpoint (enabled by default)
  * PB-25274 Set force SSL config to false by default
  * PB-25276 Webinstaller SSL force option should be set to true if the installation is launched over https

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 28 Jun 2023 12:13:20 +0000

passbolt-pro-server (4.1.0-rc.1-1) buster; urgency=medium
  * PB-24259 As an administrator I can define with role based access control users' rights
  * PB-24054 As an administrator I can define LDAP field mapping
  * PB-24051 As an administrator I can define LDAP multi domain
  * PB-24744 As a LU the date time format in the response always display the time zone
  * PB-24929 As a LU with multiple MFA providers setup, the latest provider used is proposed by default
  * PB-24488 Non-JSON request should return a 404 if JSON is required
  * PB-24617 As LU I want improved performance while sharing a folder with a user
  * PB-23843 Update SSO settings endpoint to allow prompt for Azure provider
  * PB-24244 As an administrator I can remap email and username properties
  * PB-25030 As an admin I can set a feature flag to prevent user email enumeration
  * PB-24273 As an admin I can enable the GET auth/logout.json endpoint (disabled by default)
  * PB-19510 As a user I should be redirected to HTTPS if SSL FORCE configuration is true
  * PB-24566 As an admin the email settings password should be masked in the test email command log output
  * PB-23591 As a user authenticating I can perform a limited amount of TOTP MFA attempts
  * PB-24782 As an administrator I can perform LDAP synchronization with over 1k records with improved performance
  * PB-24914 As an admin I should be able to rename a tag with uppercase
  * PB-24658 As an admin I should see no false warning in the email notification configuration section
  * PB-24925 Updates the fixture factories to its latest version
  * PB-24913 Removes "type" from required JSON schema definition for TOTP resource types
  * PB-24305 Recovery and register legacy routes are not used in emails and commands outputs
  * PB-21604 Extract composer audit task from checkstyle job and make it non-blocking
  * PB-21641 Rename check-style job to static-analysis and make it blocking

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 27 Jun 2023 05:58:43 +0000

passbolt-pro-server (4.0.2-1) buster; urgency=medium
  * PB-24644 As an admin I should be able to run migrations on a 32 bit environment

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 25 May 2023 10:16:43 +0000

passbolt-pro-server (4.0.2-rc.1-1) buster; urgency=medium
  * PB-24644 As an admin I should be able to run migrations on a 32 bit environment

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 24 May 2023 16:01:18 +0000

passbolt-pro-server (4.0.1-1) buster; urgency=medium
  * PB-24644 As an admin I should be able to run migrations on a 32 bit environment

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 23 May 2023 13:26:55 +0000

passbolt-pro-server (4.0.1-rc.1-1) buster; urgency=medium
  * PB-24644 As an admin I should be able to run migrations on a 32 bit environment

 -- Passbolt SA package signing key <contact@passbolt.com>  Fri, 19 May 2023 14:15:17 +0000

passbolt-pro-server (4.0.0-2) buster; urgency=medium
  * PB-24611 pin php7.4 or superior
 -- Diego Lendoiro <diego@passbolt.com>  Wed, 17 May 2023 12:07:00 +0000

passbolt-pro-server (4.0.0-1) buster; urgency=medium
  * PB-21580 As a user I can use Google as single sign on provider
  * PB-24245 As LU using the API I can manage standalone TOTP and TOTP associated with passwords resources types
  * PB-24086 As an admin I can create a user recovery link from the command line
  * PB-22926 As a new user I can self-register using SSO with email-self registration
  * PB-21570 As an administrator I receive an email when SSO configuration changes
  * PB-24052 As an administrator I can configure the user directory settings to authenticate with Kerberos/SASL
  * PB-23961 Adds SASL support for DirectorySync
  * PB-23927 As a system administration I can disable certain SSO providers from environment variable
  * PB-23598 Add LDAP filter / search to the API endpoint for configuration
  * PB-23289 Add new setting to allow updating user first and last name from LDAP
  * PB-23290 As an administrator synchronizing the users directory it should also synchronize the groups names
  * PB-23321 Upgrade CakePHP to 4.4
  * PB-22720 Refactor LDAP feature to use directorytree/ldaprecord
  * PB-24296 As a developer I can retrieve in integration tests the body of json requests in array
  * PB-24083 Removes the usage of the Paginator deprecated in CakePHP 4.4
  * PB-24055 LDAP add support multi server to settings API endpoint
  * PB-23926 Bump PHPUnit to ~9.5.2 to avoid warning messages of 9.6
  * PB-22758 Introduce JWT key injection to enable parallel tests
  * PB-22622 Add CS rule to disallow space after NOT operator
  * PB-23786 Remove PHP 7.3 from the testing pipes
  * PB-24561 Upgrades cakephp/migrations library
  * PB-24073 As a developer I should ensure that the CHANGELOG.md file is in the right format
  * PB-24071 As a developer I can enable feature plugins with the plugins class name
  * PB-24272 Adds contribution link in CONTRIBUTING.md
  * PB-24078 As a user I should receive the correct email avatar text after folder manipulation
  * PB-24039 Action log event listener should not throw error on missing connection
  * PB-23558 Remove PHP 8.2 deprecation warnings
  * PB-23557 Remove PHP 8.1 deprecation warnings
  * PB-24056 As an admin I can view log stack traces when debug mode is enabled
  * PB-23599 As an admin I can obfuscate sensitive fields in LDAP get settings API responses
  * PB-24297 Update guzzlehttp/psr7 to fix composer audit security vulnerability

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 16 May 2023 15:06:11 +0000

passbolt-pro-server (4.0.0-rc.5-1) buster; urgency=medium
  * PB-24561 Upgrades cakephp/migrations library

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 11 May 2023 14:04:06 +0000

passbolt-pro-server (4.0.0-rc.4-1) buster; urgency=medium
  * PB-24561 - Styleguide version bump to v4.0.3

 -- Passbolt SA package signing key <contact@passbolt.com>  Fri, 05 May 2023 17:01:30 +0000

passbolt-pro-server (4.0.0-rc.3-1) buster; urgency=medium
  * PB-24051 Fixes field obfuscation not to obfuscate the first element in pure array
  * PB-24470 Fixes recover_user command not showing while running passbolt -h

 -- Passbolt SA package signing key <contact@passbolt.com>  Sat, 29 Apr 2023 14:08:01 +0000

passbolt-pro-server (4.0.0-rc.2-1) buster; urgency=medium
  * PB-21580 As a user I can use Google as single sign on provider
  * PB-24245 Adds two TOTP resource types feature flag
  * PB-24086 As an admin, I can create a user recovery token from the command line
  * PB-24056 As an admin I can view log stack traces when debug mode is enabled
  * PB-23599 As an admin I can obfuscate sensitive fields in API responses
  * PB-22926 As a new user I can self-register using SSO with email-self registration
  * PB-21570 As an administrator I receive an email when SSO configuration changes
  * PB-24073 As a developer I should ensure that the CHANGELOG.md file is in the right format
  * PB-24071 As a developer I can enable feature plugins with the plugins class name
  * PB-24272 Adds contribution link in CONTRIBUTING.md
  * PB-24052 Updates LDAP admin settings to support Kerberos/SASL
  * PB-23961 Adds SASL support for DirectorySync
  * PB-23927 As a system administration I can disable certain SSO providers from environment variable
  * PB-23321 Upgrade CakePHP to 4.4
  * PB-23598 Add LDAP filter / search to the API endpoint for configuration
  * PB-23289 Add new setting to allow updating user first and last name from LDAP
  * PB-23290 Update GroupSyncAction to rename group if changed in LDAP
  * PB-22720 Refactor LDAP feature to use directorytree/ldaprecord
  * PB-24297 Update guzzlehttp/psr7 to fix composer audit security vulnerability
  * PB-24296 As a developer I can retrieve in integration tests the body of json requests in array
  * PB-24083 Removes the usage of the Paginator deprecated in CakePHP 4.4
  * PB-24055 LDAP add support multi server to settings API endpoint
  * PB-23926 Bump PHPUnit to ~9.5.2 to avoid warning messages of 9.6
  * PB-22758 Introduce JWT key injection to enable parallel tests
  * PB-22622 Add CS rule to disallow space after NOT operator
  * PB-23786 Remove PHP 7.3 from the testing pipes
  * PB-24078 As a user I should receive the correct email avatar text after folder manipulation
  * PB-24039 Action log event listener should not throw error on missing connection
  * PB-23558 Remove PHP 8.2 deprecation warnings
  * PB-23557 Remove PHP 8.1 deprecation warnings

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 26 Apr 2023 13:13:48 +0000

passbolt-pro-server (3.12.2-1) buster; urgency=medium
  * PB-24315 As signed-in user creating resources with encrypted description the API should not store unencrypted descriptions even if provided by the client

 -- Passbolt SA package signing key <contact@passbolt.com>  Wed, 26 Apr 2023 09:43:51 +0000

passbolt-pro-server (3.12.1-rc.1-1) buster; urgency=medium

 -- Passbolt SA package signing key <contact@passbolt.com>  Tue, 25 Apr 2023 11:51:20 +0000

passbolt-pro-server (3.12.0-3) buster; urgency=medium
  * Added php-redis to the control.in to set the dependency correctly

 -- Diego Lendoiro <diego@passbolt.com>  Fri, 17 Mar 2023 17:56:21 +0000

passbolt-pro-server (3.12.0-2) buster; urgency=medium
  * Added php-redis as dependency

 -- Diego Lendoiro <diego@passbolt.com>  Fri, 17 Mar 2023 10:20:21 +0000

passbolt-pro-server (3.12.0-1) buster; urgency=medium
  * PB-20535 As a community user I want to use folders
  * PB-22749 As an administrator I can customise passbolt to output the action logs in syslog
  * PB-22749 As an administrator I can customise passbolt to output the action logs in a file
  * PB-22749 As an administrator I can implement my own action logs handler
  * PB-23813 Microsoft Azure as single sign on should be enabled by default
  * PB-23717 As a user using the json API I should get a bad request error instead of an internal error if using api-version=v1
  * PB-21826 Fix emails entries should not be locked when threshold limit is exceeded
  * PB-23519 As an administrator running the DUO v4 migration I should not see a warning message if DUO was not configured
  * PB-23721 As an administrator I want to be sure the server key is in the keyring before decrypting users directory settings
  * PB-23311 As an administrator I should be the only one to know which users have enabled MFA
  * PB-23333 As an administrator I should see a notice instead of a warning if I enabled the self registration plugin
  * PB-23722 As a developer running the unit tests I want to be sure the version from the config matches the one from the changelog
  * PB-22892 As a user recovering my account I want to see the success and error pages feedback
  * PB-23287 Duo multi-factor authentication redirection refactoring
  * PB-23702 Update phpseclib/phpseclib dependency

 -- Passbolt SA package signing key <contact@passbolt.com>  Thu, 16 Mar 2023 15:09:02 +0000

passbolt-pro-server (3.11.1-1) buster; urgency=medium
  * PB-23283 As an administrator I can disable username validation in Duo Callback endpoints
  * PB-23310 As a user I can login and recover my account with SSO Azure when passbolt is in a sub-directory setup
  * PB-21939 Add a dry-run step at the end of upgrades to validate data

 -- Diego Lendoiro <diego@passbolt.com>  Mon, 06 Mar 2023 11:06:39 +0100

passbolt-pro-server (3.11.0-1) buster; urgency=medium
  * PB-22435 As a user using SSO Azure I can recover my account using SSO Azure
  * PB-22741 As an administrator I should see an error in the healthcheck if I use php 7.3 or less
  * PB-22747 As an administrator I can define a regular expression to customise email validation
  * PB-22748 As an administrator I can access to the paginated list of action logs on the browser
  * PB-22866 As a user I want to use passbolt in Italian
  * PB-22866 As a user I want to use passbolt in Portuguese (Brazil)
  * PB-22866 As a user I want to use passbolt in Korean
  * PB-22866 As a user I want to use passbolt in Romanian
  * PB-21489 As a user I should not see double headers in emails sent by the email digest
  * PB-22725 As an administrator I want to manage Duo v4 settings
  * PB-21763 As a user I want to see a clean SSO error feedback in the popup after failing to sign-up with SSO
  * PB-21764 As a user I want to see a clean SSO feedback in the popup after signing-in with SSO
  * PB-21906 As a user I dont want to receive email by default when I create a resource or a folder as well as I dont want to see any details for this content by default
  * PB-22512 As an SSO administrator I want to see the access_token details when it is missing or has invalid claims
  * PB-22610 As a user I want the SSO Azure authentication to support nonce
  * PB-22416 As a developer I can safely deactivate plugins between solutions
  * PB-22756 Fixes a range of failing pagination tests
  * PB-22760 SSO State Type refactoring
  * PB-22495 Refactors the SmtpTransport to enhance the code coverage of emails
  * PB-22430 Refactoring of SSO state to use separate table

 -- Diego Lendoiro <diego@passbolt.com>  Wed, 01 Mar 2023 17:10:55 +0100

passbolt-pro-server (3.10.0-1) buster; urgency=medium
  * PB-19784 As a user I can self register if my email domain matches the policy defined by the administrators
  * PB-21827 As an administrator I can manage the MFA policies of my organisation
  * PB-22652 As a user I can authenticate with SSO with an email address having a different case
  * PB-21485 As a server administrator I want to configure the list of active proxies the instance is behind in order to get client IP when necessary
  * PB-21682 As an administrator I want to configure the client option of the SMTP settings
  * PB-22019 As a server administrator I want to configure TOTP MFA secret length
  * PB-22574 As a signed-in user I want the sharing of resources to not perform a cycle detection
  * PB-22327 env variable PASSBOLT_PLUGINS_SMTP_SETTINGS renamed in PASSBOLT_PLUGINS_SMTP_SETTINGS_ENABLED (backward compatible)
  * PB-22406 curl and openssl extensions requirements added
  * PB-22413 bump CakePHP to ^4.3.11
  * PB-22420 SSO test routes removed

 -- Daniel Del Rio <daniel@passbolt.com>  Fri, 10 Feb 2023 10:00:00 +0000

passbolt-pro-server (3.9.0-1) buster; urgency=medium
  * PB-21828 As a user I can use Microsoft Azure as single sign on provider (Alpha)
  * PB-19601 As an admin running the healthcheck I should not see an unmanaged error if DB connection fails
  * PB-21497 GITHUB-437 As an administrator I should see default user avatar in the email I receive when a user complete the setup
  * PB-21501 GITHUB-411 As an administrator I should see the correct path relative to config tips in the health check report
  * PB-21551 As an administrator I should be able to update with the web installer without getting an error due the subscription
  * PB-21756 As an anonymous user switching MFA provider I should be redirected to the original target
  * PB-21756 As an anonymous user verifying my second factor I should not get a 500 error due to an improperly sanitized redirect parameter
  * PB-19653 Rename Google authenticator into Totp authenticator
  * PB-19807 As an administrator I want to know if email hostname availability is enabled in the health check report
  * PB-20985 As an administrator I shouldn't be able to send a test email in command line without defining the recipient
  * PB-21502 As an administrator I want to know if I run a passbolt command without using the webserver user
  * PB-21635 As an administrator I want to the cron events to be logged
  * PB-21751 As anonymous user I don't want to see the TOTP field auto-completed when I verify my second factor authentication
  * PB-19715 As an administrator I want to lock the SMTP settings entry points
  * PB-19212 Improve PHPUNIT performances
  * PB-19541 Add composer audit job on development pipelines
  * PB-19594 Avoid duplicated pipelines
  * PB-19583 Remove deprecated usage of dummy auth token generation in tests
  * PB-19594 Improve phpunit pipelines environment matrix
  * PB-19706 Refactor favorites add controller into service
  * PB-19707 Refactor favorites delete controller into service
  * PB-20512 Ease debug by attaching original exception to InternalErrorException when missing
  * PB-20541 Replace usage of Cake core Exception with CakeException when not done yet
  * PB-21361 Remove deprecated usage of authenticateAs in tests
  * PB-21658 Add support to PHP 8.2
  * PB-21778 Add openssl dependency to allow jwt creation on minimal installations

 -- Diego Lendoiro <diego@passbolt.com>  Thu, 19 Jan 2023 10:29:00 +0000

passbolt-pro-server (3.8.4-1) buster; urgency=medium
  * PB-21618 As an administrator I want to clean up duplicated folders relations located at the root
  * PB-21760 As signed-in user sharing a resource with a user already having access to the resource, it should not create duplicated folders relations

 -- Diego Lendoiro <diego@passbolt.com>  Tue, 13 Dec 2022 16:37:00 +0000

passbolt-pro-server (3.8.3-1) buster; urgency=medium
  * PB-21631 Ensure the OpenPGP server key is in the keyring prior to sending any emails

 -- Daniel Del Rio <daniel@passbolt.com>  Thu, 01 Dec 2022 10:05:00 +0000

passbolt-pro-server (3.8.1-1) buster; urgency=medium
  * PB-21478 As an administrator, I should be able to edit SMTP settings having a sender email not being a valid email
  * PB-21438 As an administrator using docker, I should be able to access the SMTP settings of my organization
  * PB-21486 As an administrator, I can define the SMTP authentication method via the SMTP admin workspace
  * PB-21481 As an administrator, I want emails to be sent with the sender settings defined in database, if defined in the database
  * PB-21439 As an anonymous user having a second factor method enabled, I should be able to authenticate without getting a 404

 -- Daniel Del Rio <daniel@passbolt.com>  Thu, 17 Nov 2022 18:20:00 +0000

passbolt-pro-server (3.8.0-2) buster; urgency=medium
  * PB-21411 remove access_log configuration from location block

 -- Daniel Del Rio <daniel@passbolt.com>  Fri, 11 Nov 2022 13:50:00 +0000

passbolt-pro-server (3.8.0-1) buster; urgency=medium
  * PB-19192: As an administrator, I want to manage SMTP settings in the administration workspace
  * PB-19151: As a user, I want to use passbolt with the Solarized light theme
  * PB-19151: As a user, I want to use passbolt with the Solarized dark theme
  * PB-16948: As group manager, I should be able to add users to groups without getting timeout errors
  * PB-19035: TOTP is now deactivated by default and should be activated by an administrator
  * PB-19200: GpgAuthenticator now asserts the message is a valid OpenPGP message prior to decryption on stage 0
  * PB-19312: As a logged-in user, I want to see my first name and last name correctly displayed in email headers
  * PB-18718: As a logged-in user, I want my locale not to be overwritten by the server config on pages served by the server
  * PB-19261: As a logged-in user, I should not get an internal error if no filter is passed to the get resource.json entry point
  * PB-19035: As a logged-in user, I should not get a not found error on MFA authentication if an administrator deactivated MFA
  * PB-18515: As a user, I want to see User Agent and IP in account recovery emails
  * PB-19204: Sanitize MFA redirection by forbidding redirection to external URI
  * PB-19090: Protect forms from spell-jacking attack
  * PB-19235: Migrate comments controllers logic into services
  * PB-19603: Cover additional add user to group case: As group manager I can add a user to a group which have no resources shared with
  * PB-6081: Move enterprise plugins into plugins/PassboltEe
  * PB-6081: Move community plugins into plugins/PassboltCe
  * PB-19621: Stop changing folders permissions in installation tests
  * PB-19255 As an administrator I can trigger 500 errors on demand to test my logs

 -- Daniel Del Rio <daniel@passbolt.com>  Thu, 10 Nov 2022 15:00:00 +0000

passbolt-pro-server (3.7.3-1) buster; urgency=medium
  * PB-19090 Protect forms from spell-jacking attack

 -- Diego Lendoiro <diego@passbolt.com>  Tue, 27 Sep 2022 14:30:00 +0000

passbolt-pro-server (3.7.2-1) buster; urgency=medium
  * PB-18380 Let passbolt-configure script setup certbot for RHEL9 support
  * PB-18405 Redirect on non-json request if no MFA settings are found
  * PB-16983 Handles the lack of permissions on image directory when deleting
  * PB-16898 Redesign download a supported browser to get started
  * PB-19040 As AD synchronizing with LDAP, users should be removed from passbolt groups
  * PB-18415 Extends folder name length to 256 chars
  * PB-18650 Add a check on mysql status in order to run mysql commands only when it's ready in unit tests
  * PB-18664 Add retry logic to Gitlab CI jobs
  * PB-18645 Bump Ldap tools version for better PHP8.x support

 -- Gerold Mougenel <gerold@passbolt.com>  Wed, 21 Sep 2022 10:00:00 +0000

passbolt-pro-server (3.7.1-1) buster; urgency=medium
  * PB-18486 Removes all resources_tags entries for tags that are not shared and for which the user_id is set to null.
  * PB-18398 Fix tag regression: sets associations name to be CakePHP compatible
  * PB-17072 Quotes fields in a join condition fixing Postgres
  * PB-17068 Fix postgresql compatibility issue
  * PB-18427 Fix LDAP/AD SELinux issue on RHEL
  * PB-18381 Fix source language typos
  * PB-18397 Fix as an admin I can generate a server key with the webinstaller within an instance over http
  * PB-17096 Fix resource_types name and slug postgresql compatibility
  * PB-18372 Bump styleguide version to 3.7.1
  * PB-17068 PBL-07-003 Remove non necessary user id enumeration possibility

 -- Daniel Del Rio <daniel@passbolt.com>  Fri, 12 Aug 2022 12:00:00 +0000

passbolt-pro-server (3.7.0-1) buster; urgency=medium
  * PB-17098 Add rockylinux 9 support
  * PB-16751 Add Redhat 9 support
  * PB-16749 Add Ubuntu 22.04 support
  * PB-16950 Add Spanish and Lithuanian support
  * PB-14514 Add PHP8.0 support
  * PB-14514 Fix PHP8.1 compatibility issues
  * PB-16161 Create action log endpoint for user CRUD
  * PB-16844 Common part of the user recovery and setup audit log

 -- Gerold Mougenel <gerold@passbolt.com>  Thu, 28 Jul 2022 15:35:00 +0000

passbolt-pro-server (3.6.0-1) buster; urgency=medium
  * PB-9738 Add account recovery organization policy settings by admins
  * PB-13685 Add account recovery organization settings set with key rotation + misc cleanup
  * PB-12837 Add account recovery setup for users
  * PB-14236 Add account recovery request process for users
  * PB-14236 Add account recovery response process by admins
  * PB-14410 Add the account recovery final step for users after approval by admins
  * PB-14233 List all pending account recovery requests for admins
  * PB-13769 Add account recovery related email notifications to users and admins
  * PB-14452 Add cleanup tasks for account recovery
  * PB-16123 Remove key rotation logic from package post install scripts
  * PB-15277 Remove mariadb dependency for RPM package
  * PB-14947 Package versionning for RPM

 -- Gerold Mougenel <gerold@passbolt.com>  Wed, 25 May 2022 17:30:00 +0000

passbolt-pro-server (3.5.0-3) buster; urgency=medium
  * PB-14959 updating the pull key logic in debian postinst

 -- Gerold Mougenel <gerold@passbolt.com>  Fri, 29 Apr 2022 14:30:00 +0000

passbolt-pro-server (3.5.0-2) buster; urgency=medium
  * PB-13923 Update the repository key to sign packages
  * PB-13749 Update firewalld install check
  * PB-13743 Fix bad condition logic to setup firewalld
  * PB-13650 Delete jwt folder only while uninstalling
  * PB-13783 Update selinux policy RPM package

 -- Gerold Mougenel <gerold@passbolt.com>  Wed, 13 Apr 2022 21:30:00 +0000

passbolt-pro-server (3.5.0-1) buster; urgency=medium
  * PB-13161 As LU I should be able to use passbolt with my Android mobile
  * PB-13161 As LU I should be able to use passbolt with my IOS mobile
  * PB-5967 As AD I can use passbolt with a PostgreSQL database provider [experimental]
  * PB-5967 As AD I can migrate an existing instance to PostgreSQL with the help of the command line [experimental] and MySQL to Postgres migration tools, e.g. as described here: https://pgloader.readthedocs.io and here: https://pgloader.io/.
  * PB-8513 As LU I can request gpg keys using pagination
  * PB-6053 As LU I can request folders using pagination
  * PB-13321 As a user I can use passbolt in Dutch
  * PB-13321 As a user I can use passbolt in Japanese
  * PB-13321 As a user I can use passbolt in Polish
  * PB-12817 As LU I can import avatars having a jpeg extension
  * PB-12943 As AD I should be able to see log when a user tries to sign-in with an invalid bearer token
  * PB-12888 Improve performances of the operations requiring permissions accesses by replacing the single index on type by a combined index involving the requested columns
  * PB-13177 As AD I should be able to see any gpg keys errors from the healthcheck
  * PB-13183 As LU I should be able create resource having a name or a username of 255 characters long
  * PB-13265 As AD I can create a JWT key pair even if the database is not set
  * PB-13164 As AD I can cleanup duplicate entries in the favorites tables, folder_relations, groups_users and permissions
  * PB-13217 PBL-06-011 Fix ACL on mobile transfer view controller
  * PB-9887 Fix as AD I can send email digest from the /bin/cron script
  * PB-12951 Fix as a user I shouldnt get an error requesting the JWT refresh end point providing a MFA token with MFA disabled
  * PB-12957 Fix multiple language issues reported by community
  * PB-12914 Fix as a group manager I should not get multiple notifications when a group is updated
  * PB-13158 As AD I should see a tip with proper directory permissions when the JWT assets healthcheck fails
  * PB-12835 Move users setup/recover/register controllers logic into services to welcome the upcoming account recovery feature

 -- Daniel Del Rio <daniel@passbolt.com>  Tue, 18 Jan 2022 10:40:00 +0000

passbolt-pro-server (3.4.0-2) buster; urgency=medium
  * Synchronising with RPM package

 -- Gerold Mougenel <gerold@passbolt.com>  Tue, 07 Dec 2021 14:00:00 +0000

passbolt-pro-server (3.4.0-1) buster; urgency=medium
  * PB-9826 As a user I want to use passbolt natively on Edge
  * PB-8371 As LU I want to see the login/MFA/recover/register screens in dark mode
  * PB-8522 As LU I should see the MFA verify field having focus
  * PB-9730 As AD I should be able to check avatars read issues from the healthcheck
  * PB-8932 Fix as LU I should see an animation when I successfully configured MFA
  * PB-9286 Fix as LU I should see the locale dropdown field of the setup/recover screen well positioned
  * PB-9397 Fix as AD I shouldn't see an error on the healthcheck if the JWT auth is disabled and I never configured it
  * PB-9114 Fix as lu I should be able to upload a transparent avatar in .png format.
  * PB-9750 Fix spelling mistakes reported by the community
  * PB-9762 Fix requesting /auth/login.json should not trigger an unexpected error
  * PB-9888 Fix MFA & JWT refresh token issue, remove Bearer from the hashed session identifier
  * PB-12817 Fix as LU I should be able to update jpeg avatar
  * PB-12581 Fix as AD I should be able to configure the users directory integration
  * PB-7374 As soft deleted but logged in user I should be forbidden to request the API
  * PB-9340 Fix email queue data should be stored and deserialized as json and not php
  * PB-9311 Refactor JWT and MFA plugins for better code maintainability.
  * PB-8320 Implement the tests that are marked as incomplete for cleaner continuous integration test reports
  * PB-8211 Psalm set to level 4
  * PB-9726 Fix do not load cleanup tasks unless in CLI mode
  * PB-9753 Improve table fields validation tests, do not save entity when testing the validation of properties
  * PB-9310 Move avatar file_storage logic into AvatarsTable
  * PB-9785 Update JWT healthcheck help messages
  * PB-9656 Migrate fields from utf8mb4 to a more performant encoding when possible

 -- Gerold Mougenel <gerold@passbolt.com>  Tue, 07 Dec 2021 12:30:00 +0000

passbolt-pro-server (3.3.1-1) buster; urgency=medium
  * PB-9820 / PBL-06-008 WP3: JWT key confusion leads to authentication bypass (High) [experimental][disabled by default]

 -- Daniel Del Rio <daniel@passbolt.com>  Wed, 24 Nov 2021 15:00:00 +0000

passbolt-pro-server (3.3.0-1) buster; urgency=medium
  * PB-8414 Adapting package to be compatible with Debian 11
  * PB-7815 As a server administrator I should be able to enable / disable the in-form menu feature, enabled by default
  * PB-6072 As a server administrator I should be able to enable / disable the password generator feature, enabled by default
  * PB-8189 As a user I should be able to use the application in German or Swedish
  * PB-7847 As AN I should be able to authenticate to passbolt via JWT access and refresh tokens [experimental][disabled by default]
  * PB-6034  As LU I should be able to configure my mobile app [experimental][disabled by default]
  * PB-8908 As a user I should see the footer of the passbolt emails translated with my locale
  * PB-8364 As a user I should see the subject of the passbolt emails translated with my locale
  * PB-6032 As API user I shouldnt see the _joinData properties in the resource entry points responses
  * PB-8281 Add Debian 11 bullseye support
  * PB-7750 As AD I should be notified by the healthcheck when a tmp files is executable
  * PB-7760 Increase PHPStan level to 6
  * PB-8081 As AD I should be able to configure passbolt over IPv6 while installing a passbolt package
  * PB-5866 As AD I should be able to detect avatar data discrepancies using the passbolt cleanup command
  * PB-7605 As a developer I should be able to enable/disable a plugin easily
  * PB-5982 as LU sharing a folders with a user which contains resources already shared with this same user I should move the resources in the shared folders
  * PB-5457 Fix as LU importing a batch of passwords I should not get an internal errors because of database deadlock
  * PB-7840 Fix as AD I can install/reconfigure the passbolt package if ssl certificates are already present
  * PB-7961 Fix PBL-03-002 Missing CSRF protection on the user directories synchronize and ignore user entry points
  * PB-8047 Fix PBL-02-002 As LU I should logout by posting to the API and the entry point should should be protected by CSRF
  * PB-7751 Updates FlySystem dependency to v2.1.1
  * SEC-181 Fix information disclosure: recover endpoint should not return user role and name.
  * PB-8488 Remove user agent unnecessary check associated with MFA token
  * PB-8336 Clean phpunit.xml file
  * PB-8448 Hashes the session ID prior to passord_hash
  * PB-8210 Replaces PHPSESSID with session_name()

 -- Gerold Mougenel <gerold@passbolt.com>  Tue, 26 Oct 2021 10:30:00 +0000

passbolt-pro-server (3.2.2-2) buster; urgency=medium
  * PB-7840 Fix package issue for ssl certificates that are already in the correct path during install/reconfigure

 -- Gerold Mougenel <gerold@passbolt.com>  Tue, 27 Jul 2021 11:00:00 +0000

passbolt-pro-server (3.2.2-1) buster; urgency=medium
  * PB-5910 Fix ldap admin screen should load only default admin users which are active and not deleted

 -- Gerold Mougenel <gerold@passbolt.com>  Wed, 16 Jun 2021 15:30:00 +0000

passbolt-pro-server (3.2.1-1) buster; urgency=medium
  * GITHUB-402 Fix API v3 regression, login must accept JSON data

 -- Daniel Del Rio <daniel@passbolt.com>  Fri, 04 Jun 2021 19:00:00 +0000

passbolt-pro-server (3.2.0-1) buster; urgency=medium
  * PB-5054 French internationalization
  * PB-5171 As logged-in user I can paginate the result of the users and resources index controllers
  * PB-5526 As admin I can save the subscription key as organization setting
  * PB-5854 As logged-in user I can save the locale of a user as account setting
  * PB-5854 As admin I can save the locale the organization as organization setting
  * PB-5985 As system administration I should be able to import a subscription key from the command line
  * PB-5523 Fix as system administrator I should see the healthcheck errors colored in red
  * PB-5860 Fix password max length should be set to 4096 in resource type definitions
  * PB-6007 Fix all group managers should receive an email when a new user is added to a group after a Ldap synchronization
  * PB-6031 Fix as LU I shouldn't get a fatal error when using a scalar instead of an array for some filters values
  * PB-6131 Fix healthcheck error messages display
  * PB-5975 Test code with PHPStan - level 4
  * Avatar table should use created and modified for timestamp and not created_at and modified_at
  * Move avatar in database
  * PB-5527 Migration to CakePHP4
  * Remove X-XSS-Protection as per Cure53 audit recommendations

 -- Daniel Del Rio <daniel@passbolt.com>  Tue, 01 Jun 2021 12:00:00 +0000

passbolt-pro-server (3.1.0-1) buster; urgency=medium
  * PB-5211 The fields Group object class and User object class in user directory have to be sent server side
  * GITHUB-378 Fix healthcheck ssl fullBaseUrl check
  * Fix email digest email preview should accept empty (null) template
  * Fix send test email command should accept undefined username and password

 -- Daniel Del Rio <daniel@passbolt.com>  Thu, 18 Mar 2021 10:20:00 +0000

passbolt-pro-server (3.0.2-1) buster; urgency=medium
  * PB-5211 The fields Group object class and User object class in user directory have to be sent server side
  * GITHUB-378 Fix healthcheck ssl fullBaseUrl check
  * Fix email digest email preview should accept empty (null) template
  * Fix send test email command should accept undefined username and password

 -- Daniel Del Rio <daniel@passbolt.com>  Tue, 09 Mar 2021 16:13:00 +0000

passbolt-pro-server (3.0.1-1) buster; urgency=medium
  * Fix resources population of resource_type_id field migration

 -- Daniel Del Rio <daniel@passbolt.com>  Wed, 24 Feb 2021 13:43:00 +0000

passbolt-pro-server (3.0.0-2) buster; urgency=medium
  * Drop support for api format v1, api-version parameter is deprecated
  * Remove title from api response envelope format
  * Drop support for PHP < v7.3, application require PHP v7.3 by default
  * Drop support for Composer < v2, application requires Composer v2 by default
  * Add dark theme to the community edition
  * Add new system check utilities in ./bin, for example ./bin/status-report
  * Add web installer automatically populates mysql credentials (VM / Debian Package)
  * Add support for multiple resource types
  * Add resource with encrypted description as resource type
  * Add generic cron job task in ./bin/cron
  * Add support for untracked personal shell scripts under ./bin/my
  * Add support for configurable footer link in config
  * Add permissions filters on resource view and index
  * Add permissions contain options on resource view
  * Update OpenPGP-PHP dependencies to provide PHP 7.4 compatibility
  * Remove unmaintained user agent parser library
  * Fix PHP 7.4 warnings
  * Improve testsuite execution times
  * Refactor testsuite to not install data model from fixtures but use migrations instead
  * Refactor testsuite to remove unused fixtures
  * Migrate administration and mfa settings screen to React
  * Add placeholder application skeleton when webextension is still loading
  * Redesign of login and recover screens
  * Add Mysql 8 support
  * Fix allow overriding rememberMe options in passbolt.php configuration file
  * Fix all target blank link should contain rel noopener noreferrer
  * Fix email sender, email subject should not exceed 255 characters.
  * Fix secret access log on resource view with contain secret
  * GITHUB-376 Fix missing route prefix on the recovery button
  * GITHUB-373 Fix API format for create group (previously v1 instead of v2 format)
  * GITHUB-372 Fix after modifying passwd, the modification time should be changed
  * GITHUB-370 Fix metadata should be deleted for deleted resources
  * GITHUB-369 Fix Notification Emails Have Wrong Tense In Subject/Body
  * GITHUB-368 Clarify PHP extension requirements
  * GITHUB-362 Fix wrong filename on healthcheck HELP message for assertConfigFiles
  * GITHUB-356 As a user I shouldn't be able to export folders if export plugin is disabled
  * GITHUB-350 Fix no mails are sent when providers offer AUTH PLAIN authentication only
  * GITHUB-339 Fix web installer urls do not work when passbolt is installed in a directory
  * Fix performance issues on resource / folder activity log
  * Add run cleanup after migrations on postinst

 -- Diego Lendoiro <diego@passbolt.com>  Mon, 22 Feb 2021 16:37:00 +0000

passbolt-pro-server (3.0.0-1) buster; urgency=medium
  * Cron job executes bin/cron script.
  * Add cake passbolt show_logs command to display error.log path.
  * Add bin/utils.sh script.

 -- Daniel Del Rio <daniel@passbolt.com>  Mon, 18 Jan 2021 16:02:00 +0000

passbolt-pro-server (2.14.0-0) buster; urgency=medium
  * Add an option to the migrate shell task to avoid clearing the cache after the migration is completed
  * PB-1429 Fix "ldap error messages are incorrect in case of validation issues"
  * PB-1431 Fix "LDAP: a notification should not be sent to a group administrator requesting him to add a non-active user."
  * Fix: user_id should be saved in action_logs table after successful login
  * PB-1370 Folders: Fix Performance improvement while retrieving items associated folder_parent_id and personal status
  * Fix user setup completed admin email notification
  * PB-1391 Fix a resource modified field should be updated when its secret is modified
  * Fix display a validation error when db password contains a quote or db name contain a dash
  * PB-1413: Fix "User last_logged_in virtual field should be based on action logs"
  * PB-1484: Fix "LDAP: The user of a ldap group that cannot be synced should not have their memberships synchronized"
  * PB-1464 Add configuration option for Log module in order to blacklist the logging of certain entry points that cause too much volume.
  * PB-1464 Remove 'AuthIsAuthenticated.isAuthenticated' log entries from db and prevent further logging.
  * PB-1464 Add indexes in action_logs related tables in order to improve password history performances.
  * Add an entry to secrets_history when a resource is shared with a new user.
  * Appjs version bump v2.13.9

 -- Kevin Muller <kevin@passbolt.com>  Tue, 25 Aug 2020 10:00:00 +0000

passbolt-pro-server (2.13.5-1) buster; urgency=medium
  * Fix display a validation error when db password contains a quote or db name contain a dash
  * Fix email notification settings bootstrap messes up non persistent database connection in wizard
  * Bump dependencies versions

 -- Diego Lendoiro <diego@passbolt.com>  Thu, 13 Aug 2020 10:00:00 +0000

passbolt-pro-server (2.13.1-1) buster; urgency=medium
  * pb-1347 as a passbolt server administrator i should be able to use advanced filters for the ldap queries.
  * folders audit log
  * PB-1284 Add tasks and services to re-validate existing data
  * Add contain options (creator.profile and modifier.profile) to the folders view and index entry points
  * Appjs version bump v2.13.7
  * Pro Styleguide version bump v2.13.13
  * Cache the list of users folders relations while performing a bulk SSCs detection
  * PB-1320 Folders performances fix missing folders tables indexes
  * GITHUB-350 No mails are sent when providers offer AUTH PLAIN authentication only
  * PB-1328 Fixed various folders email issue
  * Fix group delete sole owner of non shared folders issue
  * PB-1165 As a logged in user I can create a folder
  * PB-1213 As a logged in user I edit folder permissions
  * PB-1165 As a LU I can delete folders (with and without cascade)
  * PB-1165 As LU I can move a resource in a folder I own
  * PB-1253 As a LU I can move folders
  * PB-1214 As a LU I cannot create cycles when moving/sharing folders
  * PB-1046 Cleanup shell tasks for folders
  * PB-1164 As GM while deleting a group I should be able to transfer ownership of folder if necessary
  * PB-1164 As AD while deleting a user I should be able to transfer ownership of folder if necessary
  * PB-1168 Add baseline code and tests for Debian package build
  * PB-1067 As a user I can receive digest emails when creating a lot of resources
  * PB-1067 As a user I can receive digest emails when added/removed from a lot of groups
  * Pro Styleguide version bump v2.13.10
  * Appjs version bump v2.13.0.
  * PB-1046 Adapt Cleanup test runner to take in account cleanup that are adding records
  * PB-1046 Adapt Cleanup shell task to allow external sources to add cleanup tasks
  * PB-1046 Remove empty EmailTraits files
  * Delete unused default keys (cleanup)
  * Update to latest passbolt_test_data version.
  * Misc refactoring for email notifications
  * Misc refactoring to split model logic into services
  * Clear plugins in tearDown of application test cases
  * Fix appjs plugin requestUntilSuccess bug
  * Fix load the plugin license manually in the integration tests
  * Fix load webinstaller plugin manually in plugin tests
  * Fix composer php version.
  * Fix misc checkstyle issues
  * PB-980: Fix "secret access logging in password activity log should not display other resources secret access after a multiple share"
  *## Security fixes
  * PB-1209: Update javascript client dependencies
  * PB-1370 Performance improvement while retrieving items associated folder_parent_id and personal status

 -- Diego Lendoiro <diego@passbolt.com>  Thu, 09 Jul 2020 14:24:00 +0000

passbolt-pro-server (2.12.0-1) buster; urgency=medium
  * Refactor config script
  * Refactor postinst script
  * Added questions for nginx setup
  * Wording on the templates file
  * Cleaned git files from build
  * Added .in templates for multiple build files
  * Added lintian overrides
  * Added logrotation for /var/log/passbolt/error.log
  * Introduced triggers for mysql and nginx

 -- Diego Lendoiro <diego@passbolt.com>  Thu, 21 May 2020 18:24:00 +0000

passbolt-pro-server (2.12.0-0) buster; urgency=medium
  * Created an automated debian package

 -- Albert Casals <skarbat@gmail.com>  Fri, 27 Dec 2019 01:15:00 +0100

passbolt-pro-server (2.7.1-0) buster; urgency=medium
  * Initial release.

 -- Diego Lendoiro <diego@passbolt.com>  Fri, 08 Mar 2019 10:08:11 +0000
